
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Data API Documentation &#8212; MineStudio</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css?v=4ae1632d" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/jupyter-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/thebelab.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=d6734ac8" />
  
  <!-- So that users can add custom icons -->
  <script src="../../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../../_static/documentation_options.js?v=cb7bf70b"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/thebelab-helper.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'api/data/index';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.16.1';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://craftjarvis.github.io/MineStudio/_static/version.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = 'latest';
        DOCUMENTATION_OPTIONS.show_version_warning_banner =
            false;
        </script>
    <script defer="defer" src="../../_static/custom-icons.js?v=26a3f3bc"></script>
    <link rel="icon" href="../../_static/logo-no-text-light.svg"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Models API Documentation" href="../models/index.html" />
    <link rel="prev" title="Simulator API Documentation" href="../simulator/index.html" /> 
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />   
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class=" navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/logo-no-text-light.svg" class="logo__image only-light" alt=""/>
    <img src="../../_static/logo-no-text-light.svg" class="logo__image only-dark pst-js-only" alt=""/>
  
  
    <p class="title logo__title">MineStudio</p>
  
</a></div>
    
  </div>
  
  <div class=" navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-2"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-2"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-2"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-2">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../../overview/index.html">
    Overview
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../overview/getting-started.html">
    Getting Started
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../simulator/index.html">
    Simulator
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../data/index.html">
    Data
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../models/index.html">
    Models
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../offline/index.html">
    Offline
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../online/index.html">
    Online
  </a>
</li>

            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button"
                data-bs-toggle="dropdown" aria-expanded="false"
                aria-controls="pst-nav-more-links">
                    More
                </button>
                <ul id="pst-nav-more-links" class="dropdown-menu">
                    
<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../inference/index.html">
    Inference
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../benchmark/index.html">
    Benchmark
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../index.html">
    API
  </a>
</li>

                </ul>
            </li>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/CraftJarvis/MineStudio" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://pypi.org/project/minestudio" title="PyPI" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-custom fa-pypi fa-lg" aria-hidden="true"></i>
            <span class="sr-only">PyPI</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://arxiv.org/pdf/2310.08235" title="ArXiv" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-custom fa-arxiv fa-lg" aria-hidden="true"></i>
            <span class="sr-only">ArXiv</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-3"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-3"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-3"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-3">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
          
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../../overview/index.html">
    Overview
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../overview/getting-started.html">
    Getting Started
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../simulator/index.html">
    Simulator
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../data/index.html">
    Data
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../models/index.html">
    Models
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../offline/index.html">
    Offline
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../online/index.html">
    Online
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../inference/index.html">
    Inference
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../benchmark/index.html">
    Benchmark
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../index.html">
    API
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/CraftJarvis/MineStudio" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://pypi.org/project/minestudio" title="PyPI" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-custom fa-pypi fa-lg" aria-hidden="true"></i>
            <span class="sr-only">PyPI</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://arxiv.org/pdf/2310.08235" title="ArXiv" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-custom fa-arxiv fa-lg" aria-hidden="true"></i>
            <span class="sr-only">ArXiv</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><p aria-level="2" class="caption" role="heading"><span class="caption-text">Getting started</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../overview/installation.html">Installation</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">MineStudio Libraries</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../simulator/index.html">Simulator</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../simulator/general-information.html">General Information</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../simulator/design-principles.html">Design Principles</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../simulator/play.html">Graphical User Interfaces</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../data/index.html">Data</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../data/dataset-raw.html">Raw Dataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../data/dataset-event.html">Event Dataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../data/visualization.html">Visualization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../data/convertion.html">Data Conversion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../data/callbacks.html">Data Processing Callbacks</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../models/index.html">Models</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../models/baseline-vpt.html">Built-in Models: VPT</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../models/baseline-steve1.html">Built-in Models: STEVE-1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../models/baseline-groot.html">Built-in Models: GROOT</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../models/baseline-rocket1.html">Built-in Models: ROCKET-1</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../offline/index.html">Offline Training</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../offline/tutorial-vpt.html">Tutorial: Fine-tuning VPT to a Hunter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../offline/tutorial-rocket.html">Tutorial: Pre-Training ROCKET-1 from Scratch</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../online/index.html">Online Training</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../online/general-information.html">Online Training Module: General Information</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../online/config.html">Configuring Online Training Sessions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../online/trainer.html">Trainer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../online/rollout.html">Rollout</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../online/run.html">Launching Online Training: The <code class="docutils literal notranslate"><span class="pre">run.py</span></code> Script</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../online/utils.html">Shared Utilities for Online Training: The <code class="docutils literal notranslate"><span class="pre">utils</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../online/customization.html">Customize</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../inference/index.html">Inference</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../inference/baseline-vpt.html">Tutorial: Inference with VPT</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../inference/baseline-groot.html">Tutorial: Inference with GROOT</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../benchmark/index.html">Benchmark</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../benchmark/quick-benchmark.html">Quick benchmark</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../benchmark/automatic-evaluation.html">Automatic Evaluation Pipeline</a></li>
</ul>
</details></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="../index.html">MineStudio API Documentation</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2 has-children"><a class="reference internal" href="../simulator/index.html">Simulator</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="simple">
</ul>
</details></li>
<li class="toctree-l2 current active has-children"><a class="current reference internal" href="#">Data</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="simple">
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../models/index.html">Models</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="simple">
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../offline/index.html">Offline</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="simple">
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../online/index.html">Online</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="simple">
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../inference/index.html">Inference</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="simple">
</ul>
</details></li>
</ul>
</details></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../../overview/index.html" class="nav-link">Overview</a></li>
    
    
    <li class="breadcrumb-item"><a href="../index.html" class="nav-link">MineStudio API Documentation</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Data API Documentation</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                   <section id="data-api-documentation">
<h1>Data API Documentation<a class="headerlink" href="#data-api-documentation" title="Link to this heading">#</a></h1>
<div class="toctree-wrapper compound">
</div>
<section id="module-minestudio.data.minecraft.core">
<span id="core-dataset"></span><h2>Core Dataset<a class="headerlink" href="#module-minestudio.data.minecraft.core" title="Link to this heading">#</a></h2>
<p>Date: 2025-01-09 05:45:49
LastEditors: caishaofei-mus1 <a class="reference external" href="mailto:1744260356&#37;&#52;&#48;qq&#46;com">1744260356<span>&#64;</span>qq<span>&#46;</span>com</a>
LastEditTime: 2025-03-17 21:54:30
FilePath: /MineStudio/minestudio/data/minecraft/core.py</p>
<dl class="py class">
<dt class="sig sig-object py" id="minestudio.data.minecraft.core.KernelManager">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">minestudio.data.minecraft.core.</span></span><span class="sig-name descname"><span class="pre">KernelManager</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_dirs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modal_kernel_callbacks</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#minestudio.data.minecraft.callbacks.callback.ModalKernelCallback" title="minestudio.data.minecraft.callbacks.callback.ModalKernelCallback"><span class="pre">ModalKernelCallback</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/core.html#KernelManager"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.core.KernelManager" title="Link to this definition">#</a></dt>
<dd><p>Manages multiple ModalKernel instances, providing a unified interface for accessing
data from different modalities (e.g., video, actions, metadata) in a dataset.</p>
<p>It loads and organizes data from specified dataset directories, ensuring consistency
across modalities and episodes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset_dirs</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – A list of paths to dataset directories. Each directory is expected
to contain subdirectories for different modalities.</p></li>
<li><p><strong>modal_kernel_callbacks</strong> (<em>List</em><em>[</em><a class="reference internal" href="#minestudio.data.minecraft.callbacks.callback.ModalKernelCallback" title="minestudio.data.minecraft.callbacks.callback.ModalKernelCallback"><em>ModalKernelCallback</em></a><em>]</em>) – A list of ModalKernelCallback objects, one for each
modality to be managed.</p></li>
<li><p><strong>verbose</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, prints logging information during initialization. Defaults to True.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.core.KernelManager.get_episodes_with_length">
<span class="sig-name descname"><span class="pre">get_episodes_with_length</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/core.html#KernelManager.get_episodes_with_length"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.core.KernelManager.get_episodes_with_length" title="Link to this definition">#</a></dt>
<dd><p>Returns an OrderedDict mapping common episode names to their lengths (number of frames).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>An OrderedDict where keys are episode names and values are their lengths.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>OrderedDict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.core.KernelManager.get_num_frames">
<span class="sig-name descname"><span class="pre">get_num_frames</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/core.html#KernelManager.get_num_frames"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.core.KernelManager.get_num_frames" title="Link to this definition">#</a></dt>
<dd><p>Returns the total number of frames across all common episodes and modalities.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The total number of frames.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.core.KernelManager.load_modal_kernels">
<span class="sig-name descname"><span class="pre">load_modal_kernels</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/core.html#KernelManager.load_modal_kernels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.core.KernelManager.load_modal_kernels" title="Link to this definition">#</a></dt>
<dd><p>Loads a ModalKernel for each modality specified in modal_kernel_callbacks.</p>
<p>It iterates through the callbacks, creates a ModalKernel for each, and stores
them in the <cite>kernels</cite> dictionary. It also determines the common episodes
across all modalities and calculates the total number of frames.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.core.KernelManager.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">eps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">win_len</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_frame</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/core.html#KernelManager.read"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.core.KernelManager.read" title="Link to this definition">#</a></dt>
<dd><p>Reads and returns data for all managed modalities for a given episode and window.</p>
<p>It iterates through each loaded kernel, calls its <cite>read_frames</cite> method,
and aggregates the results into a single dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>eps</strong> (<em>str</em>) – The name of the episode.</p></li>
<li><p><strong>start</strong> (<em>int</em>) – The starting frame index.</p></li>
<li><p><strong>win_len</strong> (<em>int</em>) – The desired window length (number of frames).</p></li>
<li><p><strong>skip_frame</strong> (<em>int</em>) – The number of frames to skip between selected frames.</p></li>
<li><p><strong>**kwargs</strong> – Additional arguments passed to the <cite>read_frames</cite> method of each kernel.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary containing data from all modalities for the specified window.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="minestudio.data.minecraft.core.ModalKernel">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">minestudio.data.minecraft.core.</span></span><span class="sig-name descname"><span class="pre">ModalKernel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source_dirs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modal_kernel_callback</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#minestudio.data.minecraft.callbacks.callback.ModalKernelCallback" title="minestudio.data.minecraft.callbacks.callback.ModalKernelCallback"><span class="pre">ModalKernelCallback</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">short_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/core.html#ModalKernel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.core.ModalKernel" title="Link to this definition">#</a></dt>
<dd><p>Manages and provides access to data for a single modality (e.g., video, actions)
from a collection of LMDB datasets. It merges metadata and provides methods
to read chunks and frames of data for specific episodes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source_dirs</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – A list of directory paths, each containing LMDB files for the modality.</p></li>
<li><p><strong>modal_kernel_callback</strong> (<a class="reference internal" href="#minestudio.data.minecraft.callbacks.callback.ModalKernelCallback" title="minestudio.data.minecraft.callbacks.callback.ModalKernelCallback"><em>ModalKernelCallback</em></a>) – A callback object to handle modality-specific operations
like data merging, slicing, and padding.</p></li>
<li><p><strong>short_name</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, episode names are hashed to a shorter length. Defaults to False.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.core.ModalKernel.get_episode_list">
<span class="sig-name descname"><span class="pre">get_episode_list</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/core.html#ModalKernel.get_episode_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.core.ModalKernel.get_episode_list" title="Link to this definition">#</a></dt>
<dd><p>Returns a list of all episode names managed by this kernel.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A list of episode names.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>List[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.core.ModalKernel.get_num_frames">
<span class="sig-name descname"><span class="pre">get_num_frames</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">episodes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/core.html#ModalKernel.get_num_frames"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.core.ModalKernel.get_num_frames" title="Link to this definition">#</a></dt>
<dd><p>Calculates and returns the total number of frames for the specified episodes.</p>
<p>If no episodes are provided, it calculates the total frames for all episodes
managed by this kernel.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>episodes</strong> (<em>Optional</em><em>[</em><em>List</em><em>[</em><em>str</em><em>]</em><em>]</em><em>, </em><em>optional</em>) – An optional list of episode names. If None, all episodes are considered.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The total number of frames.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="minestudio.data.minecraft.core.ModalKernel.name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#minestudio.data.minecraft.core.ModalKernel.name" title="Link to this definition">#</a></dt>
<dd><p>Returns the name of the modality, as defined by the modal_kernel_callback.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The name of the modality.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.core.ModalKernel.read_chunks">
<span class="sig-name descname"><span class="pre">read_chunks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">eps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">bytes</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/core.html#ModalKernel.read_chunks"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.core.ModalKernel.read_chunks" title="Link to this definition">#</a></dt>
<dd><p>Reads and returns a list of data chunks for a given episode and frame range.</p>
<p>The start and end parameters specify the frame-level indices, which must be
multiples of the chunk_size.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>eps</strong> (<em>str</em>) – The name of the episode to read from.</p></li>
<li><p><strong>start</strong> (<em>int</em>) – The starting frame index (inclusive, multiple of chunk_size).</p></li>
<li><p><strong>end</strong> (<em>int</em>) – The ending frame index (inclusive, multiple of chunk_size).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of byte strings, where each string is a data chunk.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[bytes]</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>AssertionError</strong> – If start or end are not multiples of chunk_size.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.core.ModalKernel.read_frames">
<span class="sig-name descname"><span class="pre">read_frames</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">eps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">win_len</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_frame</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/core.html#ModalKernel.read_frames"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.core.ModalKernel.read_frames" title="Link to this definition">#</a></dt>
<dd><p>Reads, processes, and returns a dictionary of frames for a given episode and window.</p>
<p>This method handles reading data chunks, merging them into continuous frames,
slicing based on skip_frame, and padding if necessary. It utilizes the
modal_kernel_callback for modality-specific operations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>eps</strong> (<em>str</em>) – The name of the episode.</p></li>
<li><p><strong>start</strong> (<em>int</em>) – The starting frame index.</p></li>
<li><p><strong>win_len</strong> (<em>int</em>) – The desired window length (number of frames).</p></li>
<li><p><strong>skip_frame</strong> (<em>int</em>) – The number of frames to skip between selected frames.</p></li>
<li><p><strong>**kwargs</strong> – Additional arguments passed to the modal_kernel_callback.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary containing the processed frames and a corresponding mask.
The keys are formatted as “{modality_name}” and “{modality_name}_mask”.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<section id="module-minestudio.data.minecraft.dataset_event">
<span id="event-dataset"></span><h3>Event Dataset<a class="headerlink" href="#module-minestudio.data.minecraft.dataset_event" title="Link to this heading">#</a></h3>
<p>Date: 2024-11-10 10:26:52
LastEditors: muzhancun <a class="reference external" href="mailto:muzhancun&#37;&#52;&#48;stu&#46;pku&#46;edu&#46;cn">muzhancun<span>&#64;</span>stu<span>&#46;</span>pku<span>&#46;</span>edu<span>&#46;</span>cn</a>
LastEditTime: 2025-05-27 15:24:46
FilePath: /MineStudio/minestudio/data/minecraft/dataset_event.py</p>
<dl class="py class">
<dt class="sig sig-object py" id="minestudio.data.minecraft.dataset_event.EventDataModule">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">minestudio.data.minecraft.dataset_event.</span></span><span class="sig-name descname"><span class="pre">EventDataModule</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/dataset_event.html#EventDataModule"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.dataset_event.EventDataModule" title="Link to this definition">#</a></dt>
<dd><p>A PyTorch Lightning DataModule for handling event-based datasets.</p>
<p>This class encapsulates the train and validation <cite>EventDataset</cite> instances and provides
corresponding DataLoaders. It simplifies the data handling pipeline for training
and evaluating models with PyTorch Lightning.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_params</strong> (<em>Dict</em>) – Dictionary of parameters to be passed to the <cite>EventDataset</cite> constructor.
This includes <cite>dataset_dirs</cite>, <cite>modal_kernel_callbacks</cite>, <cite>win_len</cite>, etc.</p></li>
<li><p><strong>batch_size</strong> (<em>int</em><em>, </em><em>optional</em>) – The batch size for the DataLoaders, defaults to 1.</p></li>
<li><p><strong>num_workers</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of worker processes for data loading, defaults to 0.</p></li>
<li><p><strong>prefetch_factor</strong> (<em>Optional</em><em>[</em><em>int</em><em>]</em>) – Number of batches loaded in advance by each worker. Defaults to None.
See PyTorch DataLoader documentation for more details.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.dataset_event.EventDataModule.setup">
<span class="sig-name descname"><span class="pre">setup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stage</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/dataset_event.html#EventDataModule.setup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.dataset_event.EventDataModule.setup" title="Link to this definition">#</a></dt>
<dd><p>Sets up the training and validation datasets.</p>
<p>This method is called by PyTorch Lightning at the appropriate time (e.g., before training
or validation). It instantiates <cite>EventDataset</cite> for both ‘train’ and ‘val’ splits
using the provided <cite>data_params</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>stage</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – A string indicating the current stage (e.g., ‘fit’, ‘validate’, ‘test’).
Not directly used in this implementation but part of the Lightning interface.
Defaults to None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.dataset_event.EventDataModule.train_dataloader">
<span class="sig-name descname"><span class="pre">train_dataloader</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/dataset_event.html#EventDataModule.train_dataloader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.dataset_event.EventDataModule.train_dataloader" title="Link to this definition">#</a></dt>
<dd><p>Sets up the DataLoader for the training dataset.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.dataset_event.EventDataModule.val_dataloader">
<span class="sig-name descname"><span class="pre">val_dataloader</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/dataset_event.html#EventDataModule.val_dataloader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.dataset_event.EventDataModule.val_dataloader" title="Link to this definition">#</a></dt>
<dd><p>Sets up the DataLoader for the validation dataset.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="minestudio.data.minecraft.dataset_event.EventDataset">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">minestudio.data.minecraft.dataset_event.</span></span><span class="sig-name descname"><span class="pre">EventDataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/dataset_event.html#EventDataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.dataset_event.EventDataset" title="Link to this definition">#</a></dt>
<dd><p>A PyTorch Dataset for loading sequences of data centered around specific game events.</p>
<p>This dataset uses an <cite>EventKernelManager</cite> to identify occurrences of specified events
(filtered by <cite>event_regex</cite>, <cite>min_nearby</cite>, <cite>max_within</cite>) and a <cite>KernelManager</cite>
to retrieve the actual multi-modal data (like images, actions, etc.) for a window
of time (<cite>win_len</cite>) around each event. It supports splitting into training and
validation sets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset_dirs</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – List of directories where the raw dataset (LMDBs for different modalities)
is stored.</p></li>
<li><p><strong>modal_kernel_callbacks</strong> (<em>List</em><em>[</em><em>Union</em><em>[</em><em>str</em><em>, </em><a class="reference internal" href="#minestudio.data.minecraft.callbacks.callback.ModalKernelCallback" title="minestudio.data.minecraft.callbacks.callback.ModalKernelCallback"><em>ModalKernelCallback</em></a><em>]</em><em>]</em>) – List of <cite>ModalKernelCallback</cite> instances or their registered names.
These define how data for each modality is fetched and processed.</p></li>
<li><p><strong>modal_kernel_config</strong> (<em>Optional</em><em>[</em><em>Dict</em><em>]</em>) – Optional configuration dictionary for creating <cite>ModalKernelCallback</cite>
instances if their names are provided. Defaults to None.</p></li>
<li><p><strong>win_len</strong> (<em>int</em>) – The length of the window (number of frames/steps) to retrieve around each event.
Defaults to 1.</p></li>
<li><p><strong>skip_frame</strong> (<em>int</em>) – The number of frames to skip between consecutive frames in the window.
Defaults to 1 (no skip).</p></li>
<li><p><strong>split</strong> (<em>Literal</em><em>[</em><em>'train'</em><em>, </em><em>'val'</em><em>]</em>) – Specifies whether this dataset instance is for ‘train’ or ‘val’.
Defaults to ‘train’.</p></li>
<li><p><strong>split_ratio</strong> (<em>float</em>) – The ratio of data to be used for the training set. The rest is for validation.
Defaults to 0.8.</p></li>
<li><p><strong>verbose</strong> (<em>bool</em>) – If True, logs information during setup. Defaults to True.</p></li>
<li><p><strong>event_paths</strong> (<em>Optional</em><em>[</em><em>List</em><em>[</em><em>str</em><em>]</em><em>]</em>) – Optional list of paths to event LMDB databases. If None, it assumes
event databases are in an “event” subdirectory within each <cite>dataset_dirs</cite>.
Defaults to None.</p></li>
<li><p><strong>bias</strong> (<em>int</em>) – An offset applied to the start time when fetching the window of data around an event.
<cite>start = max(event_time - win_len + bias, 0)</cite>. Defaults to 0.</p></li>
<li><p><strong>event_regex</strong> (<em>str</em>) – Regular expression to filter event names from the <cite>EventKernelManager</cite>.
Defaults to ‘’.</p></li>
<li><p><strong>min_nearby</strong> (<em>Optional</em><em>[</em><em>int</em><em>]</em>) – Passed to <cite>EventKernelManager</cite> to filter events. Minimum time between
consecutive events of the same type. Defaults to None.</p></li>
<li><p><strong>max_within</strong> (<em>Optional</em><em>[</em><em>int</em><em>]</em>) – Passed to <cite>EventKernelManager</cite> to filter events. Maximum number of instances
to keep for each event type. Defaults to None.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.dataset_event.EventDataset.build_items">
<span class="sig-name descname"><span class="pre">build_items</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/dataset_event.html#EventDataset.build_items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.dataset_event.EventDataset.build_items" title="Link to this definition">#</a></dt>
<dd><p>Builds the list of items for the dataset based on selected events and split.</p>
<p>This method populates <cite>self.items</cite>, which is a list of tuples.
Each tuple stores a cumulative count of items, the event name, and a bias
for indexing into the original event list (used for train/val splitting).
The total number of items in the dataset (<cite>self.num_items</cite>) is also calculated.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.dataset_event.EventDataset.locate_item">
<span class="sig-name descname"><span class="pre">locate_item</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">idx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/dataset_event.html#EventDataset.locate_item"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.dataset_event.EventDataset.locate_item" title="Link to this definition">#</a></dt>
<dd><p>Locates the specific event and relative index within that event for a given global item index.</p>
<p>It uses a binary search on <cite>self.items</cite> (which stores cumulative counts)
to efficiently find which event the <cite>idx</cite> falls into and what its relative
index within that event’s items is (after considering the split bias).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>idx</strong> (<em>int</em>) – The global index of the item in the dataset.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>A tuple containing:
- event (str): The name of the event.
- relative_idx_with_bias (int): The index within the specific event’s item list,</p>
<blockquote>
<div><p>adjusted for the train/val split bias.</p>
</div></blockquote>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[str, int]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.dataset_event.EventDataset.to_tensor">
<span class="sig-name descname"><span class="pre">to_tensor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">List</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">torch.Tensor</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">List</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Dict</span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/dataset_event.html#EventDataset.to_tensor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.dataset_event.EventDataset.to_tensor" title="Link to this definition">#</a></dt>
<dd><p>Recursively converts NumPy arrays within a nested structure (list or dict) to PyTorch tensors.</p>
<p>If the input item is a NumPy array, it’s converted to a PyTorch tensor.
If it’s a list, the conversion is applied to each element.
If it’s a dictionary, the conversion is applied to each value.
Other types are returned as is.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>item</strong> (<em>Union</em><em>[</em><em>np.ndarray</em><em>, </em><em>List</em><em>, </em><em>Dict</em><em>]</em>) – The item to convert. Can be a NumPy array, or a list/dict containing them.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The item with NumPy arrays replaced by PyTorch tensors.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Union[torch.Tensor, List, Dict]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="minestudio.data.minecraft.dataset_event.EventKernel">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">minestudio.data.minecraft.dataset_event.</span></span><span class="sig-name descname"><span class="pre">EventKernel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">event_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">event_regex</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_nearby</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_within</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/dataset_event.html#EventKernel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.dataset_event.EventKernel" title="Link to this definition">#</a></dt>
<dd><p>Manages and provides access to event data stored in an LMDB database.</p>
<p>This class reads event information and specific event items from an LMDB
database. It allows filtering events based on a regular expression and
can further filter events by minimum time separation (min_nearby) or
a maximum number of events to consider within a larger set (max_within).
It also handles a codebook for mapping episode names if provided.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>event_path</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>Path</em><em>]</em>) – Path to the directory containing the LMDB event database.</p></li>
<li><p><strong>event_regex</strong> (<em>str</em>) – Regular expression to filter event names.</p></li>
<li><p><strong>min_nearby</strong> (<em>Optional</em><em>[</em><em>int</em><em>]</em>) – Optional minimum time (in game ticks or similar units)
between two occurrences of the same event in the same episode
for an event instance to be included. Defaults to None.</p></li>
<li><p><strong>max_within</strong> (<em>Optional</em><em>[</em><em>int</em><em>]</em>) – Optional maximum number of event instances to consider for each
event type after other filtering. Defaults to None.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.dataset_event.EventKernel.filter_out">
<span class="sig-name descname"><span class="pre">filter_out</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">min_nearby</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_within</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/dataset_event.html#EventKernel.filter_out"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.dataset_event.EventKernel.filter_out" title="Link to this definition">#</a></dt>
<dd><p>Filters the events based on proximity and count constraints.</p>
<p>This method refines the list of events to be used. It ensures that for any given
episode and event type, consecutive occurrences are separated by at least <cite>min_nearby</cite>
time units. It also limits the total number of occurrences for each event type to
<cite>max_within</cite> if specified.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>min_nearby</strong> (<em>Optional</em><em>[</em><em>int</em><em>]</em>) – Optional minimum time between consecutive events of the same type
within an episode. If an event occurs too close to the previous one,
it’s filtered out. Defaults to None.</p></li>
<li><p><strong>max_within</strong> (<em>Optional</em><em>[</em><em>int</em><em>]</em>) – Optional maximum number of instances to keep for each event type
after applying the <cite>min_nearby</cite> filter. Defaults to None.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.dataset_event.EventKernel.get_event_item">
<span class="sig-name descname"><span class="pre">get_event_item</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">event</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">item_idx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/dataset_event.html#EventKernel.get_event_item"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.dataset_event.EventKernel.get_event_item" title="Link to this definition">#</a></dt>
<dd><p>Retrieves a specific event item by its type and index.</p>
<p>The method first remaps the <cite>item_idx</cite> if filtered <cite>remaining_events</cite> exist.
It then fetches the raw event item (episode, event_time, value) from the LMDB
database. If a codebook is present, it maps the episode name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>event</strong> (<em>str</em>) – The name of the event type (e.g., “minecraft.kill_entity:zombie”).</p></li>
<li><p><strong>item_idx</strong> (<em>int</em>) – The index of the desired event item within its type, after filtering.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>AssertionError</strong> – If <cite>item_idx</cite> is out of the valid range for the given event.</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A tuple containing:
- episode (str): The name or ID of the episode where the event occurred.
- event_time (int): The timestamp (e.g., game tick) of the event.
- value (int): A value associated with the event (semantics depend on event type).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple[str, int, int]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.dataset_event.EventKernel.get_event_list">
<span class="sig-name descname"><span class="pre">get_event_list</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/dataset_event.html#EventKernel.get_event_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.dataset_event.EventKernel.get_event_list" title="Link to this definition">#</a></dt>
<dd><p>Returns the sorted list of unique event names that match the <cite>event_regex</cite>
and are present in the loaded event data.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A list of event names.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>List[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.dataset_event.EventKernel.get_event_size">
<span class="sig-name descname"><span class="pre">get_event_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">event</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/dataset_event.html#EventKernel.get_event_size"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.dataset_event.EventKernel.get_event_size" title="Link to this definition">#</a></dt>
<dd><p>Returns the number of occurrences for a specific event type after filtering.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>event</strong> (<em>str</em>) – The name of the event.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The count of occurrences for the given event. Returns 0 if the event
is not found or has no occurrences after filtering.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="minestudio.data.minecraft.dataset_event.EventKernelManager">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">minestudio.data.minecraft.dataset_event.</span></span><span class="sig-name descname"><span class="pre">EventKernelManager</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">event_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">event_regex</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/dataset_event.html#EventKernelManager"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.dataset_event.EventKernelManager" title="Link to this definition">#</a></dt>
<dd><p>Manages multiple EventKernel instances to provide a unified view of event data.</p>
<p>This class aggregates event data from several EventKernel objects, which might
correspond to different event LMDB databases or different partitions of data.
It allows querying the total size of an event type across all kernels and
retrieving specific event items by a global index.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>event_path</strong> (<em>List</em><em>[</em><em>Union</em><em>[</em><em>str</em><em>, </em><em>Path</em><em>]</em><em>]</em>) – A list of paths to directories, each containing an LMDB event database
to be managed by an EventKernel.</p></li>
<li><p><strong>event_regex</strong> (<em>str</em>) – Regular expression used by each underlying EventKernel to filter event names.</p></li>
<li><p><strong>verbose</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, logs information about the loaded events, defaults to True.</p></li>
<li><p><strong>**kwargs</strong> – Additional keyword arguments passed to the constructor of each EventKernel
(e.g., <cite>min_nearby</cite>, <cite>max_within</cite>).</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.dataset_event.EventKernelManager.get_event_item">
<span class="sig-name descname"><span class="pre">get_event_item</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">event</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">item_idx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/dataset_event.html#EventKernelManager.get_event_item"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.dataset_event.EventKernelManager.get_event_item" title="Link to this definition">#</a></dt>
<dd><p>Retrieves a specific event item by its type and a global index across all managed kernels.</p>
<p>It iterates through the managed EventKernel instances, subtracting the size of each kernel’s
event pool from <cite>item_idx</cite> until the index falls within the range of the current kernel.
Then, it calls the <cite>get_event_item</cite> method of that specific kernel.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>event</strong> (<em>str</em>) – The name of the event type.</p></li>
<li><p><strong>item_idx</strong> (<em>int</em>) – The global index of the desired event item across all kernels.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If <cite>item_idx</cite> is out of the valid range for the given event
across all managed kernels.</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A tuple containing:
- episode (str): The name or ID of the episode.
- event_time (int): The timestamp of the event.
- value (int): A value associated with the event.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple[str, int, int]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.dataset_event.EventKernelManager.get_event_list">
<span class="sig-name descname"><span class="pre">get_event_list</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/dataset_event.html#EventKernelManager.get_event_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.dataset_event.EventKernelManager.get_event_list" title="Link to this definition">#</a></dt>
<dd><p>Returns the sorted list of unique event names aggregated from all managed EventKernel instances.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A list of unique, sorted event names.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>List[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.dataset_event.EventKernelManager.get_event_size">
<span class="sig-name descname"><span class="pre">get_event_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">event</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/dataset_event.html#EventKernelManager.get_event_size"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.dataset_event.EventKernelManager.get_event_size" title="Link to this definition">#</a></dt>
<dd><p>Calculates the total number of occurrences for a specific event type across all managed kernels.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>event</strong> (<em>str</em>) – The name of the event.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The total count of the event. Returns 0 if the event is not found in any kernel
or has no occurrences after filtering in the underlying kernels.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-minestudio.data.minecraft.dataset_raw">
<span id="raw-dataset"></span><h3>Raw Dataset<a class="headerlink" href="#module-minestudio.data.minecraft.dataset_raw" title="Link to this heading">#</a></h3>
<p>Date: 2024-11-10 10:26:32
LastEditors: caishaofei-mus1 <a class="reference external" href="mailto:1744260356&#37;&#52;&#48;qq&#46;com">1744260356<span>&#64;</span>qq<span>&#46;</span>com</a>
LastEditTime: 2025-01-21 23:03:15
FilePath: /MineStudio/minestudio/data/minecraft/dataset_raw.py</p>
<dl class="py class">
<dt class="sig sig-object py" id="minestudio.data.minecraft.dataset_raw.RawDataModule">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">minestudio.data.minecraft.dataset_raw.</span></span><span class="sig-name descname"><span class="pre">RawDataModule</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/dataset_raw.html#RawDataModule"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.dataset_raw.RawDataModule" title="Link to this definition">#</a></dt>
<dd><p>LightningDataModule for the RawDataset.</p>
<p>Handles the creation of training and validation dataloaders.
Supports episode continuous batching.</p>
<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.dataset_raw.RawDataModule.setup">
<span class="sig-name descname"><span class="pre">setup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stage</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/dataset_raw.html#RawDataModule.setup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.dataset_raw.RawDataModule.setup" title="Link to this definition">#</a></dt>
<dd><p>Sets up the training and validation datasets.</p>
<p>This method is called by PyTorch Lightning to prepare the data.
It instantiates <cite>RawDataset</cite> for both training and validation splits.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>stage</strong> – The stage of training (e.g., ‘fit’, ‘validate’, ‘test’, ‘predict’). Not used in this implementation.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.dataset_raw.RawDataModule.train_dataloader">
<span class="sig-name descname"><span class="pre">train_dataloader</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/dataset_raw.html#RawDataModule.train_dataloader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.dataset_raw.RawDataModule.train_dataloader" title="Link to this definition">#</a></dt>
<dd><p>Creates the training dataloader.</p>
<p>If <cite>episode_continuous_batch</cite> is True, it uses <cite>MineDistributedBatchSampler</cite>
for continuous loading of video frames. Otherwise, it uses a standard DataLoader
with shuffling.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The DataLoader for the training set.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.dataset_raw.RawDataModule.val_dataloader">
<span class="sig-name descname"><span class="pre">val_dataloader</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/dataset_raw.html#RawDataModule.val_dataloader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.dataset_raw.RawDataModule.val_dataloader" title="Link to this definition">#</a></dt>
<dd><p>Creates the validation dataloader.</p>
<p>If <cite>episode_continuous_batch</cite> is True, it uses <cite>MineDistributedBatchSampler</cite>.
Otherwise, it uses a standard DataLoader without shuffling.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The DataLoader for the validation set.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="minestudio.data.minecraft.dataset_raw.RawDataset">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">minestudio.data.minecraft.dataset_raw.</span></span><span class="sig-name descname"><span class="pre">RawDataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/dataset_raw.html#RawDataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.dataset_raw.RawDataset" title="Link to this definition">#</a></dt>
<dd><p>Raw dataset for training and testing.</p>
<p>Handles loading and processing of raw Minecraft gameplay data.
It supports splitting data into training and validation sets,
shuffling episodes, and uses a kernel manager to read data.</p>
<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.dataset_raw.RawDataset.build_items">
<span class="sig-name descname"><span class="pre">build_items</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/dataset_raw.html#RawDataset.build_items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.dataset_raw.RawDataset.build_items" title="Link to this definition">#</a></dt>
<dd><p>Builds the list of items for the dataset.</p>
<p>This method processes episodes, splits them into train/val sets,
and creates a list of items, where each item corresponds to a window
of frames from an episode.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.dataset_raw.RawDataset.locate_item">
<span class="sig-name descname"><span class="pre">locate_item</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">idx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/dataset_raw.html#RawDataset.locate_item"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.dataset_raw.RawDataset.locate_item" title="Link to this definition">#</a></dt>
<dd><p>Locates the episode and relative index for a given item index.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>idx</strong> – The index of the item in the dataset.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple containing the episode identifier and the relative index within that episode.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.dataset_raw.RawDataset.to_tensor">
<span class="sig-name descname"><span class="pre">to_tensor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">List</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">List</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Dict</span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/dataset_raw.html#RawDataset.to_tensor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.dataset_raw.RawDataset.to_tensor" title="Link to this definition">#</a></dt>
<dd><p>Converts numpy arrays in an item to torch tensors.</p>
<p>Recursively traverses the item (which can be a numpy array, list, or dict)
and converts any numpy arrays to torch tensors.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>item</strong> – The item to convert, can be a numpy array, list, or dictionary.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The item with numpy arrays converted to torch tensors.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>
<section id="module-minestudio.data.minecraft.callbacks.callback">
<span id="callbacks"></span><h2>Callbacks<a class="headerlink" href="#module-minestudio.data.minecraft.callbacks.callback" title="Link to this heading">#</a></h2>
<p>Date: 2025-01-09 05:08:19
LastEditors: caishaofei-mus1 <a class="reference external" href="mailto:1744260356&#37;&#52;&#48;qq&#46;com">1744260356<span>&#64;</span>qq<span>&#46;</span>com</a>
LastEditTime: 2025-01-21 22:28:09
FilePath: /MineStudio/minestudio/data/minecraft/callbacks/callback.py</p>
<dl class="py class">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.callback.DrawFrameCallback">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">minestudio.data.minecraft.callbacks.callback.</span></span><span class="sig-name descname"><span class="pre">DrawFrameCallback</span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/callback.html#DrawFrameCallback"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.callback.DrawFrameCallback" title="Link to this definition">#</a></dt>
<dd><p>Base class for callbacks that draw overlay information onto video frames for visualization purposes.</p>
<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.callback.DrawFrameCallback.draw_frames">
<span class="sig-name descname"><span class="pre">draw_frames</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frames</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">List</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">infos</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_idx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/callback.html#DrawFrameCallback.draw_frames"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.callback.DrawFrameCallback.draw_frames" title="Link to this definition">#</a></dt>
<dd><p>Draws specified information onto a set of video frames.</p>
<p>This method needs to be implemented by users who want to visualize datasets
with custom overlays (e.g., drawing actions, metadata) on the video frames.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>frames</strong> (<em>Union</em><em>[</em><em>np.ndarray</em><em>, </em><em>List</em><em>]</em>) – A list of frames (e.g., Pillow images) or a NumPy array of frames (T, H, W, C).</p></li>
<li><p><strong>infos</strong> (<em>Dict</em>) – A dictionary containing the information to be drawn on the frames.
The structure of this dictionary depends on what the user wants to display.</p></li>
<li><p><strong>sample_idx</strong> (<em>int</em>) – The index of the current sample being processed/visualized.</p></li>
<li><p><strong>**kwargs</strong> – Additional keyword arguments that might be needed for drawing.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A NumPy array of frames (T, H, W, C) with the information drawn on them.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>NotImplementedError</strong> – If this method is not implemented by a subclass.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.callback.ModalConvertCallback">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">minestudio.data.minecraft.callbacks.callback.</span></span><span class="sig-name descname"><span class="pre">ModalConvertCallback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_dirs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunk_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/callback.html#ModalConvertCallback"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.callback.ModalConvertCallback" title="Link to this definition">#</a></dt>
<dd><p>Base class for callbacks that convert raw trajectory data into MineStudio’s built-in format.</p>
<p>Users should implement the methods of this class to define how their specific
data format is converted.</p>
<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.callback.ModalConvertCallback.do_convert">
<span class="sig-name descname"><span class="pre">do_convert</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">eps_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_frames</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modal_file_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/callback.html#ModalConvertCallback.do_convert"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.callback.ModalConvertCallback.do_convert" title="Link to this definition">#</a></dt>
<dd><p>Converts the raw modal data for a given episode into the desired format.</p>
<p><cite>skip_frames</cite> and <cite>modal_file_path</cite> are aligned lists, indicating which frames
to skip in each corresponding file part.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>eps_id</strong> (<em>str</em>) – The identifier of the episode being converted.</p></li>
<li><p><strong>skip_frames</strong> (<em>List</em><em>[</em><em>List</em><em>[</em><em>bool</em><em>]</em><em>]</em>) – A list of lists of boolean flags. Each inner list corresponds
to a file part in <cite>modal_file_path</cite> and indicates which
frames within that part should be skipped.</p></li>
<li><p><strong>modal_file_path</strong> (<em>List</em><em>[</em><em>Union</em><em>[</em><em>str</em><em>, </em><em>Path</em><em>]</em><em>]</em>) – A list of file paths (or Path objects) for the modal data files
or parts of files that constitute the episode.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple containing two lists: chunk keys and chunk values, representing
the converted data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[List, List]</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>NotImplementedError</strong> – If this method is not implemented by a subclass.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.callback.ModalConvertCallback.gen_frame_skip_flags">
<span class="sig-name descname"><span class="pre">gen_frame_skip_flags</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/callback.html#ModalConvertCallback.gen_frame_skip_flags"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.callback.ModalConvertCallback.gen_frame_skip_flags" title="Link to this definition">#</a></dt>
<dd><p>Generates a list of boolean flags indicating which frames to skip in a given file.</p>
<p>This method should be implemented if users want to filter out specific frames
based on the content or metadata of this modality.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>file_name</strong> (<em>str</em>) – The name of the file for which to generate skip flags.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of boolean flags. True indicates the frame should be skipped.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[bool]</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>NotImplementedError</strong> – If this method is not implemented by a subclass.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.callback.ModalConvertCallback.load_episodes">
<span class="sig-name descname"><span class="pre">load_episodes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/callback.html#ModalConvertCallback.load_episodes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.callback.ModalConvertCallback.load_episodes" title="Link to this definition">#</a></dt>
<dd><p>Identifies and loads raw data from the specified input directories.</p>
<p>This method should be implemented by the user to parse their data structure
and return a dictionary mapping episode names to a list of file parts.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A dictionary where keys are episode names and values are lists of
tuples. Each tuple contains a part identifier and the corresponding
file path for that part of the episode.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Dict[str, List[Tuple[str, str]]]</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>NotImplementedError</strong> – If this method is not implemented by a subclass.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.callback.ModalKernelCallback">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">minestudio.data.minecraft.callbacks.callback.</span></span><span class="sig-name descname"><span class="pre">ModalKernelCallback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">read_bias</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">win_bias</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/callback.html#ModalKernelCallback"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.callback.ModalKernelCallback" title="Link to this definition">#</a></dt>
<dd><p>Base class for callbacks that define how a specific modality of data is handled
within the ModalKernel.</p>
<p>Users must implement this callback for their custom modal data to manage operations
like decoding, merging, slicing, and padding.</p>
<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.callback.ModalKernelCallback.create_from_config">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">create_from_config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#minestudio.data.minecraft.callbacks.callback.ModalKernelCallback" title="minestudio.data.minecraft.callbacks.callback.ModalKernelCallback"><span class="pre">ModalKernelCallback</span></a></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/callback.html#ModalKernelCallback.create_from_config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.callback.ModalKernelCallback.create_from_config" title="Link to this definition">#</a></dt>
<dd><p>Factory method to create a ModalKernelCallback instance from a configuration dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>config</strong> (<em>Dict</em>) – A dictionary containing the configuration parameters for the callback.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An instance of a ModalKernelCallback subclass.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#minestudio.data.minecraft.callbacks.callback.ModalKernelCallback" title="minestudio.data.minecraft.callbacks.callback.ModalKernelCallback">ModalKernelCallback</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>NotImplementedError</strong> – If this method is not implemented by a subclass.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.callback.ModalKernelCallback.do_decode">
<span class="sig-name descname"><span class="pre">do_decode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chunk</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bytes</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/callback.html#ModalKernelCallback.do_decode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.callback.ModalKernelCallback.do_decode" title="Link to this definition">#</a></dt>
<dd><p>Decodes a raw byte chunk of modal data into its usable format.</p>
<p>Data is stored in LMDB files as byte chunks. Since decoding methods vary
for different modalities, users must implement this method to specify how
their data should be decoded.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>chunk</strong> (<em>bytes</em>) – The raw byte string (chunk) to be decoded.</p></li>
<li><p><strong>**kwargs</strong> – Additional keyword arguments that might be needed for decoding.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The decoded data in its appropriate format (e.g., a NumPy array for images).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Any</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>NotImplementedError</strong> – If this method is not implemented by a subclass.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.callback.ModalKernelCallback.do_merge">
<span class="sig-name descname"><span class="pre">do_merge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chunk_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">bytes</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Dict</span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/callback.html#ModalKernelCallback.do_merge"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.callback.ModalKernelCallback.do_merge" title="Link to this definition">#</a></dt>
<dd><p>Merges a list of decoded data chunks into a continuous sequence or structure.</p>
<p>When reading a long trajectory segment, the system automatically reads and decodes
multiple chunks. This method defines how these decoded chunks for a specific
modality are combined into a single, coherent data sequence (e.g., a list of frames
or a dictionary of features).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>chunk_list</strong> (<em>List</em><em>[</em><em>bytes</em><em>]</em>) – A list of decoded data chunks.</p></li>
<li><p><strong>**kwargs</strong> – Additional keyword arguments that might be needed for merging.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The merged data, typically a list or dictionary representing the continuous sequence.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Union[List, Dict]</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>NotImplementedError</strong> – If this method is not implemented by a subclass.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.callback.ModalKernelCallback.do_pad">
<span class="sig-name descname"><span class="pre">do_pad</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_len</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_pos</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'left'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'right'</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/callback.html#ModalKernelCallback.do_pad"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.callback.ModalKernelCallback.do_pad" title="Link to this definition">#</a></dt>
<dd><p>Pads the modal data to a specified length if it’s shorter than required.</p>
<p>Users need to implement this method to define how padding is applied
(e.g., repeating the last frame, adding zero vectors) and to return a mask
indicating the padded elements.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>Union</em><em>[</em><em>List</em><em>, </em><em>Dict</em><em>]</em>) – The modal data to be padded.</p></li>
<li><p><strong>pad_len</strong> (<em>int</em>) – The number of elements to add as padding.</p></li>
<li><p><strong>pad_pos</strong> (<em>Literal</em><em>[</em><em>&quot;left&quot;</em><em>, </em><em>&quot;right&quot;</em><em>]</em>) – The position where padding should be added, either “left” or “right”.</p></li>
<li><p><strong>**kwargs</strong> – Additional keyword arguments that might be needed for padding.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple containing the padded data and a NumPy array representing the padding mask
(1 for original data, 0 for padded data).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[Union[List, Dict], np.ndarray]</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>NotImplementedError</strong> – If this method is not implemented by a subclass.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.callback.ModalKernelCallback.do_postprocess">
<span class="sig-name descname"><span class="pre">do_postprocess</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/callback.html#ModalKernelCallback.do_postprocess"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.callback.ModalKernelCallback.do_postprocess" title="Link to this definition">#</a></dt>
<dd><p>Performs optional post-processing operations on the sampled modal data.</p>
<p>This method can be used for tasks like data augmentation or further transformations
after the data has been read, sliced, and padded.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>Dict</em>) – A dictionary containing the modal data (and potentially its mask) to be post-processed.</p></li>
<li><p><strong>**kwargs</strong> – Additional keyword arguments that might be needed for post-processing.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The post-processed data dictionary.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.callback.ModalKernelCallback.do_slice">
<span class="sig-name descname"><span class="pre">do_slice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_frame</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Dict</span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/callback.html#ModalKernelCallback.do_slice"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.callback.ModalKernelCallback.do_slice" title="Link to this definition">#</a></dt>
<dd><p>Extracts a slice from the modal data based on start, end, and skip_frame parameters.</p>
<p>Since data formats can vary significantly between modalities, users need to
implement this method to define how slicing operations are performed on their specific data type.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>Union</em><em>[</em><em>List</em><em>, </em><em>Dict</em><em>]</em>) – The modal data (e.g., a list of frames, a dictionary of features) to be sliced.</p></li>
<li><p><strong>start</strong> (<em>int</em>) – The starting index for the slice (inclusive).</p></li>
<li><p><strong>end</strong> (<em>int</em>) – The ending index for the slice (inclusive).</p></li>
<li><p><strong>skip_frame</strong> (<em>int</em>) – The interval at which to select frames/data points within the slice.</p></li>
<li><p><strong>**kwargs</strong> – Additional keyword arguments that might be needed for slicing.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The sliced portion of the data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Union[List, Dict]</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>NotImplementedError</strong> – If this method is not implemented by a subclass.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.callback.ModalKernelCallback.filter_dataset_paths">
<span class="sig-name descname"><span class="pre">filter_dataset_paths</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_paths</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/callback.html#ModalKernelCallback.filter_dataset_paths"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.callback.ModalKernelCallback.filter_dataset_paths" title="Link to this definition">#</a></dt>
<dd><p>Filters a list of potential dataset paths to select those relevant to this modality.</p>
<p><cite>dataset_paths</cite> contains all possible paths pointing to different LMDB folders.
This method should be implemented to identify and return only the paths
that contain data for the modality handled by this callback.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>dataset_paths</strong> (<em>List</em><em>[</em><em>Union</em><em>[</em><em>str</em><em>, </em><em>Path</em><em>]</em><em>]</em>) – A list of potential dataset directory paths (strings or Path objects).</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A filtered list of Path objects pointing to the relevant LMDB datasets.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[Path]</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>NotImplementedError</strong> – If this method is not implemented by a subclass.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.callback.ModalKernelCallback.name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#minestudio.data.minecraft.callbacks.callback.ModalKernelCallback.name" title="Link to this definition">#</a></dt>
<dd><p>Returns the name of the modality this callback handles (e.g., “image”, “action”).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The name of the modality.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>NotImplementedError</strong> – If this property is not implemented by a subclass.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<section id="module-minestudio.data.minecraft.callbacks.action">
<span id="modality-action"></span><h3>Modality:Action<a class="headerlink" href="#module-minestudio.data.minecraft.callbacks.action" title="Link to this heading">#</a></h3>
<p>Date: 2025-01-09 05:27:25
LastEditors: muzhancun <a class="reference external" href="mailto:muzhancun&#37;&#52;&#48;stu&#46;pku&#46;edu&#46;cn">muzhancun<span>&#64;</span>stu<span>&#46;</span>pku<span>&#46;</span>edu<span>&#46;</span>cn</a>
LastEditTime: 2025-05-27 15:04:29
FilePath: /MineStudio/minestudio/data/minecraft/callbacks/action.py</p>
<dl class="py class">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.action.ActionConvertCallback">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">minestudio.data.minecraft.callbacks.action.</span></span><span class="sig-name descname"><span class="pre">ActionConvertCallback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_dirs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunk_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">32</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">action_transformer_kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/action.html#ActionConvertCallback"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.action.ActionConvertCallback" title="Link to this definition">#</a></dt>
<dd><p>Callback for converting raw action data files.</p>
<p>This callback loads action data from .jsonl files, processes it, and converts it into a structured format.</p>
<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.action.ActionConvertCallback.do_convert">
<span class="sig-name descname"><span class="pre">do_convert</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">eps_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_frames</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modal_file_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/action.html#ActionConvertCallback.do_convert"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.action.ActionConvertCallback.do_convert" title="Link to this definition">#</a></dt>
<dd><p>Converts action data for a given episode.</p>
<p>Processes actions from .jsonl files, applies transformations, and handles frame skipping and remapping.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>eps_id</strong> (<em>str</em>) – The ID of the episode.</p></li>
<li><p><strong>skip_frames</strong> (<em>List</em><em>[</em><em>List</em><em>[</em><em>bool</em><em>]</em><em>]</em>) – A list of lists of boolean flags indicating whether to skip frames.</p></li>
<li><p><strong>modal_file_path</strong> (<em>List</em><em>[</em><em>Union</em><em>[</em><em>str</em><em>, </em><em>Path</em><em>]</em><em>]</em>) – A list of file paths for the modal data (action files).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple containing a list of keys (chunk start indices) and a list of pickled data values.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[List, List]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.action.ActionConvertCallback.gen_frame_skip_flags">
<span class="sig-name descname"><span class="pre">gen_frame_skip_flags</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/action.html#ActionConvertCallback.gen_frame_skip_flags"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.action.ActionConvertCallback.gen_frame_skip_flags" title="Link to this definition">#</a></dt>
<dd><p>Generates frame skip flags based on action data to identify no-operation frames.</p>
<p>A frame is considered a no-op if the camera is static and all other actions are zero.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>file_name</strong> (<em>str</em>) – The name of the action file (without extension).</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of boolean flags, where True indicates the frame should be kept (not a no-op).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[bool]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.action.ActionConvertCallback.load_episodes">
<span class="sig-name descname"><span class="pre">load_episodes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">OrderedDict</span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/action.html#ActionConvertCallback.load_episodes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.action.ActionConvertCallback.load_episodes" title="Link to this definition">#</a></dt>
<dd><p>Loads episodes from input directories containing .jsonl action files.</p>
<p>It identifies episode segments from file names, sorts them, and organizes them into an OrderedDict.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>An OrderedDict where keys are episode IDs and values are lists of segment file paths.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>OrderedDict</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.action.ActionDrawFrameCallback">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">minestudio.data.minecraft.callbacks.action.</span></span><span class="sig-name descname"><span class="pre">ActionDrawFrameCallback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start_point</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">(10,</span> <span class="pre">10)</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/action.html#ActionDrawFrameCallback"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.action.ActionDrawFrameCallback" title="Link to this definition">#</a></dt>
<dd><p>Callback for drawing action information onto video frames.</p>
<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.action.ActionDrawFrameCallback.draw_frames">
<span class="sig-name descname"><span class="pre">draw_frames</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frames</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">List</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">infos</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_idx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/action.html#ActionDrawFrameCallback.draw_frames"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.action.ActionDrawFrameCallback.draw_frames" title="Link to this definition">#</a></dt>
<dd><p>Draws action information onto each frame.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>frames</strong> (<em>Union</em><em>[</em><em>np.ndarray</em><em>, </em><em>List</em><em>]</em>) – A list of frames or a numpy array of frames.</p></li>
<li><p><strong>infos</strong> (<em>Dict</em>) – Dictionary containing action information.</p></li>
<li><p><strong>sample_idx</strong> (<em>int</em>) – Index of the sample to process.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of frames with action information drawn on them.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[np.ndarray]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.action.ActionKernelCallback">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">minestudio.data.minecraft.callbacks.action.</span></span><span class="sig-name descname"><span class="pre">ActionKernelCallback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n_camera_bins</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">11</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">camera_binsize</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">camera_maxval</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">camera_mu</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">camera_quantization_scheme</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mu_law'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enable_prev_action</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/action.html#ActionKernelCallback"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.action.ActionKernelCallback" title="Link to this definition">#</a></dt>
<dd><p>Callback for handling Minecraft actions.</p>
<p>This callback processes action data, including decoding, merging, slicing, padding, and postprocessing.
It can handle both regular actions and previous actions if enabled.</p>
<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.action.ActionKernelCallback.create_from_config">
<span class="sig-name descname"><span class="pre">create_from_config</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#minestudio.data.minecraft.callbacks.action.ActionKernelCallback" title="minestudio.data.minecraft.callbacks.action.ActionKernelCallback"><span class="pre">ActionKernelCallback</span></a></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/action.html#ActionKernelCallback.create_from_config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.action.ActionKernelCallback.create_from_config" title="Link to this definition">#</a></dt>
<dd><p>Creates an ActionKernelCallback instance from a configuration dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>config</strong> (<em>Dict</em>) – Configuration dictionary.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An instance of ActionKernelCallback.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#minestudio.data.minecraft.callbacks.action.ActionKernelCallback" title="minestudio.data.minecraft.callbacks.action.ActionKernelCallback">ActionKernelCallback</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.action.ActionKernelCallback.do_decode">
<span class="sig-name descname"><span class="pre">do_decode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chunk</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bytes</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/action.html#ActionKernelCallback.do_decode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.action.ActionKernelCallback.do_decode" title="Link to this definition">#</a></dt>
<dd><p>Decodes a chunk of bytes into an action dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>chunk</strong> (<em>bytes</em>) – Bytes to decode.</p></li>
<li><p><strong>kwargs</strong> – Additional keyword arguments.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Decoded action dictionary.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.action.ActionKernelCallback.do_merge">
<span class="sig-name descname"><span class="pre">do_merge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chunk_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">bytes</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/action.html#ActionKernelCallback.do_merge"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.action.ActionKernelCallback.do_merge" title="Link to this definition">#</a></dt>
<dd><p>Merges a list of decoded action chunks into a single dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>chunk_list</strong> (<em>List</em><em>[</em><em>bytes</em><em>]</em>) – List of byte chunks representing actions.</p></li>
<li><p><strong>kwargs</strong> – Additional keyword arguments.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary containing merged action data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.action.ActionKernelCallback.do_pad">
<span class="sig-name descname"><span class="pre">do_pad</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_len</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_pos</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'left'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'right'</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/action.html#ActionKernelCallback.do_pad"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.action.ActionKernelCallback.do_pad" title="Link to this definition">#</a></dt>
<dd><p>Pads the action data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>Dict</em>) – Action data dictionary.</p></li>
<li><p><strong>pad_len</strong> (<em>int</em>) – Length of padding to add.</p></li>
<li><p><strong>pad_pos</strong> (<em>Literal</em><em>[</em><em>&quot;left&quot;</em><em>, </em><em>&quot;right&quot;</em><em>]</em>) – Position to add padding (“left” or “right”).</p></li>
<li><p><strong>kwargs</strong> – Additional keyword arguments.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple containing the padded action data and the padding mask.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[Dict, np.ndarray]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.action.ActionKernelCallback.do_postprocess">
<span class="sig-name descname"><span class="pre">do_postprocess</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/action.html#ActionKernelCallback.do_postprocess"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.action.ActionKernelCallback.do_postprocess" title="Link to this definition">#</a></dt>
<dd><p>Postprocesses the action data.</p>
<p>This method handles the transformation of environment actions to agent actions
and optionally includes previous actions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> (<em>Dict</em>) – Data dictionary containing actions.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Postprocessed data dictionary.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.action.ActionKernelCallback.do_slice">
<span class="sig-name descname"><span class="pre">do_slice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_frame</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/action.html#ActionKernelCallback.do_slice"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.action.ActionKernelCallback.do_slice" title="Link to this definition">#</a></dt>
<dd><p>Slices the action data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>Dict</em>) – Action data dictionary.</p></li>
<li><p><strong>start</strong> (<em>int</em>) – Start index for slicing.</p></li>
<li><p><strong>end</strong> (<em>int</em>) – End index for slicing.</p></li>
<li><p><strong>skip_frame</strong> (<em>int</em>) – Frame skipping interval.</p></li>
<li><p><strong>kwargs</strong> – Additional keyword arguments.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Sliced action data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.action.ActionKernelCallback.filter_dataset_paths">
<span class="sig-name descname"><span class="pre">filter_dataset_paths</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_paths</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/action.html#ActionKernelCallback.filter_dataset_paths"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.action.ActionKernelCallback.filter_dataset_paths" title="Link to this definition">#</a></dt>
<dd><p>Filters dataset paths to select only action-related paths.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>dataset_paths</strong> (<em>List</em><em>[</em><em>Union</em><em>[</em><em>str</em><em>, </em><em>Path</em><em>]</em><em>]</em>) – A list of dataset paths.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of paths pointing to action data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[Path]</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.action.ActionKernelCallback.name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#minestudio.data.minecraft.callbacks.action.ActionKernelCallback.name" title="Link to this definition">#</a></dt>
<dd><p>Returns the name of the callback.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The name ‘action’.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.action.VectorActionKernelCallback">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">minestudio.data.minecraft.callbacks.action.</span></span><span class="sig-name descname"><span class="pre">VectorActionKernelCallback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">action_chunk_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">32</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'vector'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/action.html#VectorActionKernelCallback"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.action.VectorActionKernelCallback" title="Link to this definition">#</a></dt>
<dd><p>Callback for handling actions represented as vectors.</p>
<p>This callback converts actions between dictionary and vector representations.</p>
<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.action.VectorActionKernelCallback.action_to_dict">
<span class="sig-name descname"><span class="pre">action_to_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">action</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/action.html#VectorActionKernelCallback.action_to_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.action.VectorActionKernelCallback.action_to_dict" title="Link to this definition">#</a></dt>
<dd><p>Converts an action dictionary to a specific dictionary format with “camera” and “button” keys.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>action</strong> (<em>Dict</em>) – Action dictionary.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary with “camera” and “button” actions.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.action.VectorActionKernelCallback.action_to_vector">
<span class="sig-name descname"><span class="pre">action_to_vector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">action</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/action.html#VectorActionKernelCallback.action_to_vector"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.action.VectorActionKernelCallback.action_to_vector" title="Link to this definition">#</a></dt>
<dd><p>Converts an action dictionary to an action vector.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>action</strong> (<em>Dict</em>) – Action dictionary.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Action vector.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.action.VectorActionKernelCallback.do_postprocess">
<span class="sig-name descname"><span class="pre">do_postprocess</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/action.html#VectorActionKernelCallback.do_postprocess"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.action.VectorActionKernelCallback.do_postprocess" title="Link to this definition">#</a></dt>
<dd><p>Postprocesses the action data, converting it to the specified return type (vector or dict).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> (<em>Dict</em>) – Data dictionary containing actions.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Postprocessed data dictionary with actions in the specified format.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.action.VectorActionKernelCallback.vector_dim">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">vector_dim</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#minestudio.data.minecraft.callbacks.action.VectorActionKernelCallback.vector_dim" title="Link to this definition">#</a></dt>
<dd><p>Calculates the dimension of the action vector.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The dimension of the action vector.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.action.VectorActionKernelCallback.vector_to_action">
<span class="sig-name descname"><span class="pre">vector_to_action</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Dict</span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/action.html#VectorActionKernelCallback.vector_to_action"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.action.VectorActionKernelCallback.vector_to_action" title="Link to this definition">#</a></dt>
<dd><p>Converts an action vector or a list of action vectors to action dictionaries.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>vector</strong> (<em>np.ndarray</em>) – Action vector(s).</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Action dictionary or list of action dictionaries.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Union[List[Dict], Dict]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-minestudio.data.minecraft.callbacks.image">
<span id="modality-image"></span><h3>Modality:Image<a class="headerlink" href="#module-minestudio.data.minecraft.callbacks.image" title="Link to this heading">#</a></h3>
<p>Date: 2025-01-09 05:07:59
LastEditors: caishaofei-mus1 <a class="reference external" href="mailto:1744260356&#37;&#52;&#48;qq&#46;com">1744260356<span>&#64;</span>qq<span>&#46;</span>com</a>
LastEditTime: 2025-01-21 22:28:22
FilePath: /MineStudio/minestudio/data/minecraft/callbacks/image.py</p>
<dl class="py class">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.image.ImageConvertCallback">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">minestudio.data.minecraft.callbacks.image.</span></span><span class="sig-name descname"><span class="pre">ImageConvertCallback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thread_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">8</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/image.html#ImageConvertCallback"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.image.ImageConvertCallback" title="Link to this definition">#</a></dt>
<dd><p>A ModalConvertCallback for converting raw video data (e.g., from .mp4 files)
into the MineStudio chunked format.</p>
<p>This class handles loading video episodes, splitting them, and encoding
frames into byte chunks suitable for LMDB storage.</p>
<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.image.ImageConvertCallback.do_convert">
<span class="sig-name descname"><span class="pre">do_convert</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">eps_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_frames</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modal_file_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">bytes</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/image.html#ImageConvertCallback.do_convert"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.image.ImageConvertCallback.do_convert" title="Link to this definition">#</a></dt>
<dd><p>Converts video data for a given episode into a list of chunk keys and byte values.</p>
<p>It iterates through each video segment file for the episode, reads frames using <cite>av</cite>,
applies frame skipping based on <cite>skip_frames</cite>, resizes frames to a fixed resolution
(224x224 in this implementation, though <cite>cv_width</cite> and <cite>cv_height</cite> are reassigned),
and then groups frames into chunks. Each chunk is then encoded into mp4 format
using <cite>_write_video_chunk</cite> in a thread pool.</p>
<p>Note: There’s a hardcoded check for original video dimensions (640x360) and a
hardcoded resize to 224x224. Also, <cite>source_path</cite> and <cite>ord</cite> variables seem
to be used in print statements without clear definition in the provided snippet.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>eps_id</strong> (<em>str</em>) – The identifier for the episode being converted.</p></li>
<li><p><strong>skip_frames</strong> (<em>List</em><em>[</em><em>List</em><em>[</em><em>bool</em><em>]</em><em>]</em>) – A list of lists of boolean flags. Each inner list corresponds to a
segment in <cite>modal_file_path</cite> and indicates whether to skip each frame.</p></li>
<li><p><strong>modal_file_path</strong> (<em>List</em><em>[</em><em>Union</em><em>[</em><em>str</em><em>, </em><em>Path</em><em>]</em><em>]</em>) – A list of file paths (str or Path objects) for the video data segments.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple containing two lists:
- keys (List[int]): A list of chunk start indices.
- vals (List[bytes]): A list of serialized video chunk byte values.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[List[int], List[bytes]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.image.ImageConvertCallback.load_episodes">
<span class="sig-name descname"><span class="pre">load_episodes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">OrderedDict</span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/image.html#ImageConvertCallback.load_episodes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.image.ImageConvertCallback.load_episodes" title="Link to this definition">#</a></dt>
<dd><p>Loads and organizes video episode data from the specified input directories.</p>
<p>It scans for .mp4 files, groups them by episode ID (parsed from filenames),
sorts segments within each episode, and then re-splits episodes if segments
are too far apart in time (controlled by <cite>MAX_TIME</cite>).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>An OrderedDict where keys are episode IDs (e.g., “episodeName-startTime”)
and values are lists of (part_id, file_path) tuples for each segment
belonging to that episode.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>OrderedDict</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.image.ImageKernelCallback">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">minestudio.data.minecraft.callbacks.image.</span></span><span class="sig-name descname"><span class="pre">ImageKernelCallback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frame_width</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">128</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame_height</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">128</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_workers</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enable_video_aug</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/image.html#ImageKernelCallback"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.image.ImageKernelCallback" title="Link to this definition">#</a></dt>
<dd><p>A ModalKernelCallback specifically for processing image (video frame) data.</p>
<p>This class handles the decoding of video chunks, merging multiple chunks,
slicing frames, padding, and optionally applying video augmentations.</p>
<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.image.ImageKernelCallback.create_from_config">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">create_from_config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#minestudio.data.minecraft.callbacks.image.ImageKernelCallback" title="minestudio.data.minecraft.callbacks.image.ImageKernelCallback"><span class="pre">ImageKernelCallback</span></a></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/image.html#ImageKernelCallback.create_from_config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.image.ImageKernelCallback.create_from_config" title="Link to this definition">#</a></dt>
<dd><p>Factory method to create an ImageKernelCallback instance from a configuration dictionary.</p>
<p>It expects the configuration for the image callback to be under the ‘image’ key
in the provided config dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>config</strong> (<em>Dict</em>) – A dictionary containing the configuration parameters.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An instance of ImageKernelCallback initialized with parameters from the config.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#minestudio.data.minecraft.callbacks.image.ImageKernelCallback" title="minestudio.data.minecraft.callbacks.image.ImageKernelCallback">ImageKernelCallback</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.image.ImageKernelCallback.do_decode">
<span class="sig-name descname"><span class="pre">do_decode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chunk</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bytes</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/image.html#ImageKernelCallback.do_decode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.image.ImageKernelCallback.do_decode" title="Link to this definition">#</a></dt>
<dd><p>Decodes a video chunk (bytes) into a NumPy array of frames.</p>
<p>It uses the <cite>av</cite> library to open and decode the video stream from the byte chunk.
Frames are converted to RGB24 format and resized to the specified <cite>frame_width</cite>
and <cite>frame_height</cite> using OpenCV. Decoding and resizing are parallelized using
a ThreadPoolExecutor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>chunk</strong> (<em>bytes</em>) – A byte string representing the video data chunk.</p></li>
<li><p><strong>**kwargs</strong> – Additional keyword arguments (not used in this implementation).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A NumPy array of decoded and resized video frames, with shape (T, H, W, C).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.image.ImageKernelCallback.do_merge">
<span class="sig-name descname"><span class="pre">do_merge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chunk_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">bytes</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/image.html#ImageKernelCallback.do_merge"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.image.ImageKernelCallback.do_merge" title="Link to this definition">#</a></dt>
<dd><p>Merges a list of decoded video chunks (each being a byte string) into a single
NumPy array of frames.</p>
<p>It uses a ThreadPoolExecutor to parallelize the decoding of each chunk using
the <cite>do_decode</cite> method, and then concatenates the resulting frame arrays.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>chunk_list</strong> (<em>List</em><em>[</em><em>bytes</em><em>]</em>) – A list of byte strings, where each string is a video data chunk.</p></li>
<li><p><strong>**kwargs</strong> – Additional keyword arguments (not used in this implementation).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A NumPy array representing the merged video frames from all chunks.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.image.ImageKernelCallback.do_pad">
<span class="sig-name descname"><span class="pre">do_pad</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_len</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_pos</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'left'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'right'</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ndarray</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/image.html#ImageKernelCallback.do_pad"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.image.ImageKernelCallback.do_pad" title="Link to this definition">#</a></dt>
<dd><p>Pads a NumPy array of video frames with zeros to a specified length.</p>
<p>Padding can be added to the “left” (beginning) or “right” (end) of the frame sequence.
A mask is also generated to indicate the original (1) versus padded (0) frames.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>np.ndarray</em>) – A NumPy array of video frames (T, H, W, C) to be padded.</p></li>
<li><p><strong>pad_len</strong> (<em>int</em>) – The number of frames to add as padding.</p></li>
<li><p><strong>pad_pos</strong> (<em>Literal</em><em>[</em><em>&quot;left&quot;</em><em>, </em><em>&quot;right&quot;</em><em>]</em>) – The position to add padding, either “left” or “right”.</p></li>
<li><p><strong>**kwargs</strong> – Additional keyword arguments (not used in this implementation).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple containing:
- pad_data (np.ndarray): The padded video data.
- pad_mask (np.ndarray): A 1D array mask indicating original (1) and padded (0) frames.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[np.ndarray, np.ndarray]</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If <cite>pad_pos</cite> is not “left” or “right”.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.image.ImageKernelCallback.do_postprocess">
<span class="sig-name descname"><span class="pre">do_postprocess</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/image.html#ImageKernelCallback.do_postprocess"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.image.ImageKernelCallback.do_postprocess" title="Link to this definition">#</a></dt>
<dd><p>Post-processes the image data, primarily by applying video augmentation if enabled.</p>
<p>If <cite>enable_video_aug</cite> was set to True during initialization, this method applies
the configured <cite>video_augmentor</cite> to the frames stored under the “image” key in the
input dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> (<em>Dict</em>) – A dictionary containing the image data, expected to have an “image” key
with a NumPy array of frames.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The (potentially augmented) data dictionary.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.image.ImageKernelCallback.do_slice">
<span class="sig-name descname"><span class="pre">do_slice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_frame</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/image.html#ImageKernelCallback.do_slice"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.image.ImageKernelCallback.do_slice" title="Link to this definition">#</a></dt>
<dd><p>Slices a NumPy array of video frames based on start, end, and skip_frame parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>np.ndarray</em>) – A NumPy array of video frames (T, H, W, C).</p></li>
<li><p><strong>start</strong> (<em>int</em>) – The starting frame index for the slice (inclusive).</p></li>
<li><p><strong>end</strong> (<em>int</em>) – The ending frame index for the slice (exclusive for standard Python slicing,
but used to select frames up to <cite>end-1</cite>).</p></li>
<li><p><strong>skip_frame</strong> (<em>int</em>) – The interval at which to select frames.</p></li>
<li><p><strong>**kwargs</strong> – Additional keyword arguments (not used in this implementation).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A NumPy array containing the sliced video frames.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.image.ImageKernelCallback.filter_dataset_paths">
<span class="sig-name descname"><span class="pre">filter_dataset_paths</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_paths</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/image.html#ImageKernelCallback.filter_dataset_paths"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.image.ImageKernelCallback.filter_dataset_paths" title="Link to this definition">#</a></dt>
<dd><p>Filters a list of dataset paths to select only those relevant to image/video data.</p>
<p>It checks if the stem of each path is either ‘video’ or ‘image’.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>dataset_paths</strong> (<em>List</em><em>[</em><em>Union</em><em>[</em><em>str</em><em>, </em><em>Path</em><em>]</em><em>]</em>) – A list of dataset paths (strings or Path objects).</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of Path objects pointing to the filtered image/video dataset directories.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[Path]</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.image.ImageKernelCallback.name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#minestudio.data.minecraft.callbacks.image.ImageKernelCallback.name" title="Link to this definition">#</a></dt>
<dd><p>Returns the name of this callback, which is “image”.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The string “image”.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.image.VideoAugmentation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">minestudio.data.minecraft.callbacks.image.</span></span><span class="sig-name descname"><span class="pre">VideoAugmentation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frame_width</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">224</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame_height</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">224</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/image.html#VideoAugmentation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.image.VideoAugmentation" title="Link to this definition">#</a></dt>
<dd><p>Applies a sequence of image augmentations to video frames using the albumentations library.</p>
<p>This class defines a transformation pipeline that includes color jittering and affine
transformations (rotation, scaling, shearing).</p>
</dd></dl>

</section>
<section id="module-minestudio.data.minecraft.callbacks.meta_info">
<span id="modality-info"></span><h3>Modality:Info<a class="headerlink" href="#module-minestudio.data.minecraft.callbacks.meta_info" title="Link to this heading">#</a></h3>
<p>Date: 2025-01-09 05:36:19
LastEditors: muzhancun <a class="reference external" href="mailto:muzhancun&#37;&#52;&#48;stu&#46;pku&#46;edu&#46;cn">muzhancun<span>&#64;</span>stu<span>&#46;</span>pku<span>&#46;</span>edu<span>&#46;</span>cn</a>
LastEditTime: 2025-05-27 14:45:03
FilePath: /MineStudio/minestudio/data/minecraft/callbacks/meta_info.py</p>
<dl class="py class">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.meta_info.MetaInfoConvertCallback">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">minestudio.data.minecraft.callbacks.meta_info.</span></span><span class="sig-name descname"><span class="pre">MetaInfoConvertCallback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_dirs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunk_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/meta_info.html#MetaInfoConvertCallback"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.meta_info.MetaInfoConvertCallback" title="Link to this definition">#</a></dt>
<dd><p>Callback for converting raw metadata into the MineStudio format.</p>
<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.meta_info.MetaInfoConvertCallback.do_convert">
<span class="sig-name descname"><span class="pre">do_convert</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">eps_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_frames</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modal_file_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/meta_info.html#MetaInfoConvertCallback.do_convert"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.meta_info.MetaInfoConvertCallback.do_convert" title="Link to this definition">#</a></dt>
<dd><p>Converts metadata for a given episode.</p>
<p>It loads metadata from specified files, applies frame skipping,
and chunks the data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>eps_id</strong> (<em>str</em>) – Episode ID.</p></li>
<li><p><strong>skip_frames</strong> (<em>List</em><em>[</em><em>List</em><em>[</em><em>bool</em><em>]</em><em>]</em>) – A list of lists of boolean flags indicating whether to skip each frame for each segment file.</p></li>
<li><p><strong>modal_file_path</strong> (<em>List</em><em>[</em><em>Union</em><em>[</em><em>str</em><em>, </em><em>Path</em><em>]</em><em>]</em>) – A list of file paths for the metadata segments.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple containing a list of chunk start indices and a list of serialized chunk values.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[List, List]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.meta_info.MetaInfoConvertCallback.load_episodes">
<span class="sig-name descname"><span class="pre">load_episodes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/meta_info.html#MetaInfoConvertCallback.load_episodes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.meta_info.MetaInfoConvertCallback.load_episodes" title="Link to this definition">#</a></dt>
<dd><p>Loads and organizes metadata episode data from input directories.</p>
<p>It identifies metadata files (ending with .pkl), groups them by episode,
sorts segments within episodes, and re-splits episodes based on a maximum time interval.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>An OrderedDict of episodes, where keys are episode IDs and values are lists of (part_id, file_path) tuples.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>OrderedDict</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.meta_info.MetaInfoDrawFrameCallback">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">minestudio.data.minecraft.callbacks.meta_info.</span></span><span class="sig-name descname"><span class="pre">MetaInfoDrawFrameCallback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start_point</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">(150,</span> <span class="pre">10)</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/meta_info.html#MetaInfoDrawFrameCallback"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.meta_info.MetaInfoDrawFrameCallback" title="Link to this definition">#</a></dt>
<dd><p>Callback for drawing metadata information onto video frames.</p>
<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.meta_info.MetaInfoDrawFrameCallback.draw_frames">
<span class="sig-name descname"><span class="pre">draw_frames</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frames</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">infos</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_idx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/meta_info.html#MetaInfoDrawFrameCallback.draw_frames"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.meta_info.MetaInfoDrawFrameCallback.draw_frames" title="Link to this definition">#</a></dt>
<dd><p>Draws metadata (pitch, yaw, cursor position, GUI status) onto each frame.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>frames</strong> (<em>List</em>) – A list of frames.</p></li>
<li><p><strong>infos</strong> (<em>Dict</em>) – Dictionary containing metadata information under the key ‘meta_info’.</p></li>
<li><p><strong>sample_idx</strong> (<em>int</em>) – Index of the sample to process.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of frames with metadata drawn on them.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[np.ndarray]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.meta_info.MetaInfoKernelCallback">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">minestudio.data.minecraft.callbacks.meta_info.</span></span><span class="sig-name descname"><span class="pre">MetaInfoKernelCallback</span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/meta_info.html#MetaInfoKernelCallback"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.meta_info.MetaInfoKernelCallback" title="Link to this definition">#</a></dt>
<dd><p>Callback for processing metadata information.</p>
<p>Handles decoding, merging, slicing, and padding of metadata.</p>
<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.meta_info.MetaInfoKernelCallback.create_from_config">
<span class="sig-name descname"><span class="pre">create_from_config</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#minestudio.data.minecraft.callbacks.meta_info.MetaInfoKernelCallback" title="minestudio.data.minecraft.callbacks.meta_info.MetaInfoKernelCallback"><span class="pre">MetaInfoKernelCallback</span></a></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/meta_info.html#MetaInfoKernelCallback.create_from_config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.meta_info.MetaInfoKernelCallback.create_from_config" title="Link to this definition">#</a></dt>
<dd><p>Creates a MetaInfoKernelCallback instance from a configuration dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>config</strong> (<em>Dict</em>) – Configuration dictionary.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An instance of MetaInfoKernelCallback.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#minestudio.data.minecraft.callbacks.meta_info.MetaInfoKernelCallback" title="minestudio.data.minecraft.callbacks.meta_info.MetaInfoKernelCallback">MetaInfoKernelCallback</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.meta_info.MetaInfoKernelCallback.do_decode">
<span class="sig-name descname"><span class="pre">do_decode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chunk</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bytes</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/meta_info.html#MetaInfoKernelCallback.do_decode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.meta_info.MetaInfoKernelCallback.do_decode" title="Link to this definition">#</a></dt>
<dd><p>Decodes a chunk of bytes into a metadata dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>chunk</strong> (<em>bytes</em>) – Bytes to decode.</p></li>
<li><p><strong>kwargs</strong> – Additional keyword arguments.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Decoded metadata dictionary.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.meta_info.MetaInfoKernelCallback.do_merge">
<span class="sig-name descname"><span class="pre">do_merge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chunk_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">bytes</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/meta_info.html#MetaInfoKernelCallback.do_merge"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.meta_info.MetaInfoKernelCallback.do_merge" title="Link to this definition">#</a></dt>
<dd><p>Merges a list of decoded metadata chunks into a single dictionary.</p>
<p>Each chunk is expected to be a list of frame_info dictionaries.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>chunk_list</strong> (<em>List</em><em>[</em><em>bytes</em><em>]</em>) – List of byte chunks representing metadata.</p></li>
<li><p><strong>kwargs</strong> – Additional keyword arguments.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary containing merged metadata.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.meta_info.MetaInfoKernelCallback.do_pad">
<span class="sig-name descname"><span class="pre">do_pad</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_len</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_pos</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'left'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'right'</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/meta_info.html#MetaInfoKernelCallback.do_pad"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.meta_info.MetaInfoKernelCallback.do_pad" title="Link to this definition">#</a></dt>
<dd><p>Pads the metadata.</p>
<p>Handles both numpy arrays and lists within the data dictionary.
For numpy arrays, it pads with zeros. For lists, it pads with None.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>Dict</em>) – Metadata dictionary.</p></li>
<li><p><strong>pad_len</strong> (<em>int</em>) – Length of padding to add.</p></li>
<li><p><strong>pad_pos</strong> (<em>Literal</em><em>[</em><em>&quot;left&quot;</em><em>, </em><em>&quot;right&quot;</em><em>]</em>) – Position to add padding (“left” or “right”).</p></li>
<li><p><strong>kwargs</strong> – Additional keyword arguments.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple containing the padded metadata and the padding mask.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[Dict, np.ndarray]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.meta_info.MetaInfoKernelCallback.do_slice">
<span class="sig-name descname"><span class="pre">do_slice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_frame</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/meta_info.html#MetaInfoKernelCallback.do_slice"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.meta_info.MetaInfoKernelCallback.do_slice" title="Link to this definition">#</a></dt>
<dd><p>Slices the metadata.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>Dict</em>) – Metadata dictionary.</p></li>
<li><p><strong>start</strong> (<em>int</em>) – Start index for slicing.</p></li>
<li><p><strong>end</strong> (<em>int</em>) – End index for slicing.</p></li>
<li><p><strong>skip_frame</strong> (<em>int</em>) – Frame skipping interval.</p></li>
<li><p><strong>kwargs</strong> – Additional keyword arguments.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Sliced metadata dictionary.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.meta_info.MetaInfoKernelCallback.filter_dataset_paths">
<span class="sig-name descname"><span class="pre">filter_dataset_paths</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_paths</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/meta_info.html#MetaInfoKernelCallback.filter_dataset_paths"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.meta_info.MetaInfoKernelCallback.filter_dataset_paths" title="Link to this definition">#</a></dt>
<dd><p>Filters dataset paths to select only metadata-related paths.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>dataset_paths</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – A list of dataset paths.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of paths pointing to metadata files.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.meta_info.MetaInfoKernelCallback.name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#minestudio.data.minecraft.callbacks.meta_info.MetaInfoKernelCallback.name" title="Link to this definition">#</a></dt>
<dd><p>Returns the name of the callback.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The name ‘meta_info’.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-minestudio.data.minecraft.callbacks.segmentation">
<span id="modality-segmentation"></span><h3>Modality:Segmentation<a class="headerlink" href="#module-minestudio.data.minecraft.callbacks.segmentation" title="Link to this heading">#</a></h3>
<p>Date: 2025-01-09 05:42:00
LastEditors: caishaofei-mus1 <a class="reference external" href="mailto:1744260356&#37;&#52;&#48;qq&#46;com">1744260356<span>&#64;</span>qq<span>&#46;</span>com</a>
LastEditTime: 2025-01-21 22:31:03
FilePath: /MineStudio/minestudio/data/minecraft/callbacks/segmentation.py</p>
<dl class="py class">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.segmentation.SegmentationConvertCallback">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">minestudio.data.minecraft.callbacks.segmentation.</span></span><span class="sig-name descname"><span class="pre">SegmentationConvertCallback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_dirs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunk_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/segmentation.html#SegmentationConvertCallback"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.segmentation.SegmentationConvertCallback" title="Link to this definition">#</a></dt>
<dd><p>Callback for converting segmentation data from raw RLE files.</p>
<p>This callback loads episodes from directories containing RLE files,
processes them, and converts them into a structured format.</p>
<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.segmentation.SegmentationConvertCallback.do_convert">
<span class="sig-name descname"><span class="pre">do_convert</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">eps_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_frames</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modal_file_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/segmentation.html#SegmentationConvertCallback.do_convert"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.segmentation.SegmentationConvertCallback.do_convert" title="Link to this definition">#</a></dt>
<dd><p>Convert segmentation data for a given episode.</p>
<p>The input video is connected end to end to form a complete trajectory, named eps_id.
However, the input data is processed independently, so its frame id is also independent.
When integrating it into a complete trajectory, the frame id needs to be remapped.
That’s why <code class="docutils literal notranslate"><span class="pre">frame_id_re_mapping</span></code> is used here, where <code class="docutils literal notranslate"><span class="pre">ord</span></code> indicates the part of the whole trajectory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>eps_id</strong> (<em>str</em>) – The ID of the episode.</p></li>
<li><p><strong>skip_frames</strong> (<em>List</em><em>[</em><em>List</em><em>[</em><em>bool</em><em>]</em><em>]</em>) – A list of lists of boolean flags indicating whether to skip frames.</p></li>
<li><p><strong>modal_file_path</strong> (<em>List</em><em>[</em><em>Union</em><em>[</em><em>str</em><em>, </em><em>Path</em><em>]</em><em>]</em>) – A list of file paths for the modal data.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple containing a list of keys (chunk start indices) and a list of pickled data values.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[List, List]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.segmentation.SegmentationConvertCallback.load_episodes">
<span class="sig-name descname"><span class="pre">load_episodes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">OrderedDict</span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/segmentation.html#SegmentationConvertCallback.load_episodes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.segmentation.SegmentationConvertCallback.load_episodes" title="Link to this definition">#</a></dt>
<dd><p>Load episodes from input directories containing RLE files.</p>
<p>Identifies episode segments, sorts them, and re-splits them based on time.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>An OrderedDict where keys are episode IDs and values are lists of segment file paths.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>OrderedDict</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.segmentation.SegmentationDrawFrameCallback">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">minestudio.data.minecraft.callbacks.segmentation.</span></span><span class="sig-name descname"><span class="pre">SegmentationDrawFrameCallback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start_point</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">(300,</span> <span class="pre">10)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">draw_point</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">draw_mask</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">draw_event</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">draw_frame_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">draw_frame_range</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/segmentation.html#SegmentationDrawFrameCallback"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.segmentation.SegmentationDrawFrameCallback" title="Link to this definition">#</a></dt>
<dd><p>Callback for drawing segmentation information on frames.</p>
<p>This callback can draw points, masks, event text, frame IDs, and frame ranges
onto video frames.</p>
<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.segmentation.SegmentationDrawFrameCallback.draw_frame">
<span class="sig-name descname"><span class="pre">draw_frame</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frame</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">point</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obj_mask</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obj_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">event</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame_range</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/segmentation.html#SegmentationDrawFrameCallback.draw_frame"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.segmentation.SegmentationDrawFrameCallback.draw_frame" title="Link to this definition">#</a></dt>
<dd><p>Draw segmentation information on a single frame.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>frame</strong> (<em>np.ndarray</em>) – The input frame (numpy array).</p></li>
<li><p><strong>point</strong> (<em>Optional</em><em>[</em><em>Tuple</em><em>[</em><em>int</em><em>, </em><em>int</em><em>]</em><em>]</em>) – The (y, x) coordinates of the interaction point (normalized).</p></li>
<li><p><strong>obj_mask</strong> (<em>Optional</em><em>[</em><em>np.ndarray</em><em>]</em>) – The object mask (numpy array).</p></li>
<li><p><strong>obj_id</strong> (<em>Optional</em><em>[</em><em>int</em><em>]</em>) – The object ID.</p></li>
<li><p><strong>event</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – The event string.</p></li>
<li><p><strong>frame_id</strong> (<em>Optional</em><em>[</em><em>int</em><em>]</em>) – The frame ID.</p></li>
<li><p><strong>frame_range</strong> (<em>Optional</em><em>[</em><em>Tuple</em><em>[</em><em>int</em><em>, </em><em>int</em><em>]</em><em>]</em>) – The frame range tuple.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The frame with drawn segmentation information.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.segmentation.SegmentationDrawFrameCallback.draw_frames">
<span class="sig-name descname"><span class="pre">draw_frames</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frames</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">List</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">infos</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_idx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/segmentation.html#SegmentationDrawFrameCallback.draw_frames"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.segmentation.SegmentationDrawFrameCallback.draw_frames" title="Link to this definition">#</a></dt>
<dd><p>Draw segmentation information on a list of frames.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>frames</strong> (<em>Union</em><em>[</em><em>np.ndarray</em><em>, </em><em>List</em><em>]</em>) – A list of frames or a numpy array of frames.</p></li>
<li><p><strong>infos</strong> (<em>Dict</em>) – A dictionary containing segmentation information.</p></li>
<li><p><strong>sample_idx</strong> (<em>int</em>) – The index of the sample to process.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of frames with drawn segmentation information.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[np.ndarray]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.segmentation.SegmentationKernelCallback">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">minestudio.data.minecraft.callbacks.segmentation.</span></span><span class="sig-name descname"><span class="pre">SegmentationKernelCallback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frame_width</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">224</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame_height</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">224</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/segmentation.html#SegmentationKernelCallback"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.segmentation.SegmentationKernelCallback" title="Link to this definition">#</a></dt>
<dd><p>Callback for handling segmentation data kernels.</p>
<p>This callback processes segmentation masks, including RLE encoding/decoding,
filtering dataset paths, merging data chunks, slicing, and padding.</p>
<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.segmentation.SegmentationKernelCallback.create_from_config">
<span class="sig-name descname"><span class="pre">create_from_config</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#minestudio.data.minecraft.callbacks.segmentation.SegmentationKernelCallback" title="minestudio.data.minecraft.callbacks.segmentation.SegmentationKernelCallback"><span class="pre">SegmentationKernelCallback</span></a></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/segmentation.html#SegmentationKernelCallback.create_from_config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.segmentation.SegmentationKernelCallback.create_from_config" title="Link to this definition">#</a></dt>
<dd><p>Create a SegmentationKernelCallback instance from a configuration dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>config</strong> (<em>Dict</em>) – Configuration dictionary.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An instance of SegmentationKernelCallback.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#minestudio.data.minecraft.callbacks.segmentation.SegmentationKernelCallback" title="minestudio.data.minecraft.callbacks.segmentation.SegmentationKernelCallback">SegmentationKernelCallback</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.segmentation.SegmentationKernelCallback.do_decode">
<span class="sig-name descname"><span class="pre">do_decode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chunk</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bytes</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/segmentation.html#SegmentationKernelCallback.do_decode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.segmentation.SegmentationKernelCallback.do_decode" title="Link to this definition">#</a></dt>
<dd><p>Decode a data chunk using pickle.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>chunk</strong> (<em>bytes</em>) – The data chunk to decode.</p></li>
<li><p><strong>kwargs</strong> – Additional keyword arguments.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The decoded data as a dictionary.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.segmentation.SegmentationKernelCallback.do_merge">
<span class="sig-name descname"><span class="pre">do_merge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chunk_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">bytes</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/segmentation.html#SegmentationKernelCallback.do_merge"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.segmentation.SegmentationKernelCallback.do_merge" title="Link to this definition">#</a></dt>
<dd><p>Merge a list of data chunks into a single dictionary.</p>
<p>Handles object ID remapping, mask resizing, and event processing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>chunk_list</strong> (<em>List</em><em>[</em><em>bytes</em><em>]</em>) – A list of data chunks (bytes).</p></li>
<li><p><strong>kwargs</strong> – Additional keyword arguments, e.g., ‘event_constrain’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary containing the merged segmentation data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.segmentation.SegmentationKernelCallback.do_pad">
<span class="sig-name descname"><span class="pre">do_pad</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_len</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_pos</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'left'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'right'</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/segmentation.html#SegmentationKernelCallback.do_pad"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.segmentation.SegmentationKernelCallback.do_pad" title="Link to this definition">#</a></dt>
<dd><p>Pad the data to a specified length.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>Dict</em>) – The input data dictionary.</p></li>
<li><p><strong>pad_len</strong> (<em>int</em>) – The length of the padding to add.</p></li>
<li><p><strong>pad_pos</strong> (<em>Literal</em><em>[</em><em>&quot;left&quot;</em><em>, </em><em>&quot;right&quot;</em><em>]</em>) – The position to add padding (‘left’ or ‘right’).</p></li>
<li><p><strong>kwargs</strong> – Additional keyword arguments.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple containing the padded data dictionary and the padding mask.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[Dict, np.ndarray]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.segmentation.SegmentationKernelCallback.do_slice">
<span class="sig-name descname"><span class="pre">do_slice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_frame</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/segmentation.html#SegmentationKernelCallback.do_slice"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.segmentation.SegmentationKernelCallback.do_slice" title="Link to this definition">#</a></dt>
<dd><p>Slice the data based on start, end, and skip_frame parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>Dict</em>) – The input data dictionary.</p></li>
<li><p><strong>start</strong> (<em>int</em>) – The starting index for slicing.</p></li>
<li><p><strong>end</strong> (<em>int</em>) – The ending index for slicing.</p></li>
<li><p><strong>skip_frame</strong> (<em>int</em>) – The step for slicing (frame skipping).</p></li>
<li><p><strong>kwargs</strong> – Additional keyword arguments.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary containing the sliced data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.segmentation.SegmentationKernelCallback.filter_dataset_paths">
<span class="sig-name descname"><span class="pre">filter_dataset_paths</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_paths</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/segmentation.html#SegmentationKernelCallback.filter_dataset_paths"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.segmentation.SegmentationKernelCallback.filter_dataset_paths" title="Link to this definition">#</a></dt>
<dd><p>Filter dataset paths to include only segmentation-related files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>dataset_paths</strong> (<em>List</em><em>[</em><em>Union</em><em>[</em><em>str</em><em>, </em><em>Path</em><em>]</em><em>]</em>) – A list of dataset paths (strings or Path objects).</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of Path objects pointing to segmentation files.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[Path]</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.segmentation.SegmentationKernelCallback.name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#minestudio.data.minecraft.callbacks.segmentation.SegmentationKernelCallback.name" title="Link to this definition">#</a></dt>
<dd><p>Get the name of the callback.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The name ‘segmentation’.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.segmentation.SegmentationKernelCallback.rle_decode">
<span class="sig-name descname"><span class="pre">rle_decode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mask_rle</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shape</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/segmentation.html#SegmentationKernelCallback.rle_decode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.segmentation.SegmentationKernelCallback.rle_decode" title="Link to this definition">#</a></dt>
<dd><p>Decode a run-length encoded (RLE) mask.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mask_rle</strong> (<em>str</em>) – Run-length as a string (start length).</p></li>
<li><p><strong>shape</strong> (<em>Tuple</em><em>[</em><em>int</em><em>, </em><em>int</em><em>]</em>) – (height, width) of the array to return.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Numpy array, 1 - mask, 0 - background.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.callbacks.segmentation.SegmentationKernelCallback.rle_encode">
<span class="sig-name descname"><span class="pre">rle_encode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">binary_mask</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/callbacks/segmentation.html#SegmentationKernelCallback.rle_encode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.callbacks.segmentation.SegmentationKernelCallback.rle_encode" title="Link to this definition">#</a></dt>
<dd><p>Encode a binary mask using run-length encoding (RLE).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>binary_mask</strong> (<em>np.ndarray</em>) – Numpy array, 1 - mask, 0 - background.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Run length as a string.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>
<section id="module-minestudio.data.minecraft.tools.convertion">
<span id="lmdb-convertion"></span><h2>LMDB Convertion<a class="headerlink" href="#module-minestudio.data.minecraft.tools.convertion" title="Link to this heading">#</a></h2>
<p>Date: 2024-11-10 12:27:01
LastEditors: caishaofei-mus1 <a class="reference external" href="mailto:1744260356&#37;&#52;&#48;qq&#46;com">1744260356<span>&#64;</span>qq<span>&#46;</span>com</a>
LastEditTime: 2025-01-15 15:04:05
FilePath: /MineStudio/minestudio/data/minecraft/tools/convertion.py</p>
<dl class="py class">
<dt class="sig sig-object py" id="minestudio.data.minecraft.tools.convertion.ConvertManager">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">minestudio.data.minecraft.tools.convertion.</span></span><span class="sig-name descname"><span class="pre">ConvertManager</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">convert_kernel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#minestudio.data.minecraft.callbacks.callback.ModalConvertCallback" title="minestudio.data.minecraft.callbacks.callback.ModalConvertCallback"><span class="pre">ModalConvertCallback</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_kernel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#minestudio.data.minecraft.callbacks.callback.ModalConvertCallback" title="minestudio.data.minecraft.callbacks.callback.ModalConvertCallback"><span class="pre">ModalConvertCallback</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunk_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">32</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_workers</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">16</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/tools/convertion.html#ConvertManager"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.tools.convertion.ConvertManager" title="Link to this definition">#</a></dt>
<dd><p>Manages the overall data conversion process using multiple ConvertWorker actors.</p>
<p>This class is responsible for preparing tasks (episodes and their parts),
dispatching these tasks to ConvertWorker instances, and collecting the results.
It supports filtering of episodes and parts based on a filter_kernel.</p>
<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.tools.convertion.ConvertManager.dispatch">
<span class="sig-name descname"><span class="pre">dispatch</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/tools/convertion.html#ConvertManager.dispatch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.tools.convertion.ConvertManager.dispatch" title="Link to this definition">#</a></dt>
<dd><p>Dispatch the prepared tasks to ConvertWorker actors for processing.</p>
<p>Divides the loaded episodes among the specified number of workers.
Each worker processes its assigned episodes and writes the output to
a separate LMDB file. Collects and prints summary statistics after
all workers have completed.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="minestudio.data.minecraft.tools.convertion.ConvertManager.prepare_tasks">
<span class="sig-name descname"><span class="pre">prepare_tasks</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/tools/convertion.html#ConvertManager.prepare_tasks"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.tools.convertion.ConvertManager.prepare_tasks" title="Link to this definition">#</a></dt>
<dd><p>Prepare the tasks (episodes and their parts) for conversion.</p>
<p>Loads episodes using the convert_kernel and, if provided, the filter_kernel.
Filters out episodes or parts of episodes that do not meet the criteria
defined by the filter_kernel.
The prepared tasks are stored in <cite>self.loaded_episodes</cite>.</p>
</dd></dl>

</dd></dl>

<p id="module-minestudio.data.minecraft.tools.event_convertion">Date: 2024-11-10 12:26:39
LastEditors: caishaofei-mus1 <a class="reference external" href="mailto:1744260356&#37;&#52;&#48;qq&#46;com">1744260356<span>&#64;</span>qq<span>&#46;</span>com</a>
LastEditTime: 2025-03-17 21:40:14
FilePath: /MineStudio/var/minestudio/data/minecraft/tools/event_convertion.py</p>
<dl class="py function">
<dt class="sig sig-object py" id="minestudio.data.minecraft.tools.event_convertion.main">
<span class="sig-prename descclassname"><span class="pre">minestudio.data.minecraft.tools.event_convertion.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/tools/event_convertion.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.tools.event_convertion.main" title="Link to this definition">#</a></dt>
<dd><p>Main function to process Minecraft game events and store them in an LMDB database.</p>
<p>This function reads event data from a specified input directory, processes it using
a KernelManager, and then organizes and writes the events into an LMDB database
with a specific structure. The structure includes a codebook for episode IDs,
the total number of events, information about each event type (number of items
and episodes), and individual event occurrences.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>args</strong> (<em>argparse.Namespace</em>) – Command-line arguments, expected to have an <cite>input_dir</cite> attribute
specifying the directory containing the raw game data.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-minestudio.data.minecraft.utils">
<span id="utils"></span><h2>Utils<a class="headerlink" href="#module-minestudio.data.minecraft.utils" title="Link to this heading">#</a></h2>
<p>Date: 2024-11-10 10:06:28
LastEditors: caishaofei <a class="reference external" href="mailto:caishaofei&#37;&#52;&#48;stu&#46;pku&#46;edu&#46;cn">caishaofei<span>&#64;</span>stu<span>&#46;</span>pku<span>&#46;</span>edu<span>&#46;</span>cn</a>
LastEditTime: 2025-01-09 16:33:22
FilePath: /MineStudio/minestudio/data/minecraft/utils.py</p>
<dl class="py class">
<dt class="sig sig-object py" id="minestudio.data.minecraft.utils.MineDistributedBatchSampler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">minestudio.data.minecraft.utils.</span></span><span class="sig-name descname"><span class="pre">MineDistributedBatchSampler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/utils.html#MineDistributedBatchSampler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.utils.MineDistributedBatchSampler" title="Link to this definition">#</a></dt>
<dd><p>A distributed batch sampler for Minecraft datasets.</p>
<p>Ensures that each replica (process) gets a unique and continuous
set of samples from the dataset, particularly useful for sequential data
like video frames from game episodes. It divides the dataset among
replicas and then creates batches within each replica’s assigned portion.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="minestudio.data.minecraft.utils.batchify">
<span class="sig-prename descclassname"><span class="pre">minestudio.data.minecraft.utils.</span></span><span class="sig-name descname"><span class="pre">batchify</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch_in</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/utils.html#batchify"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.utils.batchify" title="Link to this definition">#</a></dt>
<dd><p>Collates a sequence of items into a batch.</p>
<p>Recursively processes dictionaries, stacking tensors and converting
lists of numbers to tensors. Other types are returned as is.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>batch_in</strong> – A sequence of items to batch. Each item is typically a dictionary.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The collated batch.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="minestudio.data.minecraft.utils.download_dataset_from_huggingface">
<span class="sig-prename descclassname"><span class="pre">minestudio.data.minecraft.utils.</span></span><span class="sig-name descname"><span class="pre">download_dataset_from_huggingface</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'6xx'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'7xx'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'8xx'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'9xx'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'10xx'</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/utils.html#download_dataset_from_huggingface"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.utils.download_dataset_from_huggingface" title="Link to this definition">#</a></dt>
<dd><p>Downloads a dataset from Hugging Face.</p>
<p>Checks for sufficient disk space before downloading.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – The name of the dataset to download (e.g., “6xx”).</p></li>
<li><p><strong>base_dir</strong> – The base directory to download the dataset to. If None, uses the MineStudio directory.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The local path to the downloaded dataset.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ValueError</strong> – If there is insufficient disk space.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="minestudio.data.minecraft.utils.get_repo_total_size">
<span class="sig-prename descclassname"><span class="pre">minestudio.data.minecraft.utils.</span></span><span class="sig-name descname"><span class="pre">get_repo_total_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">repo_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">repo_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dataset'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">branch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'main'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/utils.html#get_repo_total_size"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.utils.get_repo_total_size" title="Link to this definition">#</a></dt>
<dd><p>Calculate the total size of a Hugging Face repository.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>repo_id</strong> – The identifier of the repository (e.g., ‘CraftJarvis/minestudio-data-6xx’).</p></li>
<li><p><strong>repo_type</strong> – The type of the repository, defaults to “dataset”.</p></li>
<li><p><strong>branch</strong> – The branch of the repository, defaults to “main”.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple containing the total size in bytes and the total size in gigabytes.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>requests.exceptions.HTTPError</strong> – If the API request fails.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="minestudio.data.minecraft.utils.pull_datasets_from_remote">
<span class="sig-prename descclassname"><span class="pre">minestudio.data.minecraft.utils.</span></span><span class="sig-name descname"><span class="pre">pull_datasets_from_remote</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_dirs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/utils.html#pull_datasets_from_remote"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.utils.pull_datasets_from_remote" title="Link to this definition">#</a></dt>
<dd><p>Pulls datasets from remote Hugging Face repositories if specified.</p>
<p>Iterates through a list of dataset directory paths. If a path is a recognized
dataset name (e.g., ‘6xx’), it downloads the dataset from Hugging Face.
Otherwise, it keeps the original path.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>dataset_dirs</strong> – A list of dataset directory paths or dataset names.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of updated dataset directory paths, with remote datasets downloaded.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="minestudio.data.minecraft.utils.visualize_dataloader">
<span class="sig-prename descclassname"><span class="pre">minestudio.data.minecraft.utils.</span></span><span class="sig-name descname"><span class="pre">visualize_dataloader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataloader</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">draw_frame_callbacks</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#minestudio.data.minecraft.callbacks.callback.DrawFrameCallback" title="minestudio.data.minecraft.callbacks.callback.DrawFrameCallback"><span class="pre">DrawFrameCallback</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_samples</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_fps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'./'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/utils.html#visualize_dataloader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.utils.visualize_dataloader" title="Link to this definition">#</a></dt>
<dd><p>Visualizes data from a dataloader by creating a video.</p>
<p>Iterates through the dataloader, processes frames using draw_frame_callbacks,
and saves the resulting frames as an MP4 video.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataloader</strong> – The dataloader to visualize.</p></li>
<li><p><strong>draw_frame_callbacks</strong> – A list of callbacks to draw on frames.</p></li>
<li><p><strong>num_samples</strong> – The number of batches to process from the dataloader.</p></li>
<li><p><strong>save_fps</strong> – The frames per second for the output video.</p></li>
<li><p><strong>output_dir</strong> – The directory to save the output video.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="minestudio.data.minecraft.utils.write_video">
<span class="sig-prename descclassname"><span class="pre">minestudio.data.minecraft.utils.</span></span><span class="sig-name descname"><span class="pre">write_video</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frames</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">640</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">360</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">20</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../../_modules/minestudio/data/minecraft/utils.html#write_video"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#minestudio.data.minecraft.utils.write_video" title="Link to this definition">#</a></dt>
<dd><p>Write a sequence of video frames to a video file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_name</strong> – The name of the output video file.</p></li>
<li><p><strong>frames</strong> – A sequence of numpy arrays, where each array represents a frame.
Frames are expected to be in RGB format.</p></li>
<li><p><strong>width</strong> – The width of the video, defaults to 640.</p></li>
<li><p><strong>height</strong> – The height of the video, defaults to 360.</p></li>
<li><p><strong>fps</strong> – The frames per second of the video, defaults to 20.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>AssertionError</strong> – If a frame’s dimensions do not match the specified width and height.</p>
</dd>
</dl>
</dd></dl>

</section>
</section>

<div class="section ablog__blog_comments">
   
</div>

                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../simulator/index.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Simulator API Documentation</p>
      </div>
    </a>
    <a class="right-next"
       href="../models/index.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Models API Documentation</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-minestudio.data.minecraft.core">Core Dataset</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.core.KernelManager"><code class="docutils literal notranslate"><span class="pre">KernelManager</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.core.KernelManager.get_episodes_with_length"><code class="docutils literal notranslate"><span class="pre">KernelManager.get_episodes_with_length()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.core.KernelManager.get_num_frames"><code class="docutils literal notranslate"><span class="pre">KernelManager.get_num_frames()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.core.KernelManager.load_modal_kernels"><code class="docutils literal notranslate"><span class="pre">KernelManager.load_modal_kernels()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.core.KernelManager.read"><code class="docutils literal notranslate"><span class="pre">KernelManager.read()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.core.ModalKernel"><code class="docutils literal notranslate"><span class="pre">ModalKernel</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.core.ModalKernel.get_episode_list"><code class="docutils literal notranslate"><span class="pre">ModalKernel.get_episode_list()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.core.ModalKernel.get_num_frames"><code class="docutils literal notranslate"><span class="pre">ModalKernel.get_num_frames()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.core.ModalKernel.name"><code class="docutils literal notranslate"><span class="pre">ModalKernel.name</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.core.ModalKernel.read_chunks"><code class="docutils literal notranslate"><span class="pre">ModalKernel.read_chunks()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.core.ModalKernel.read_frames"><code class="docutils literal notranslate"><span class="pre">ModalKernel.read_frames()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#module-minestudio.data.minecraft.dataset_event">Event Dataset</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.dataset_event.EventDataModule"><code class="docutils literal notranslate"><span class="pre">EventDataModule</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.dataset_event.EventDataModule.setup"><code class="docutils literal notranslate"><span class="pre">EventDataModule.setup()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.dataset_event.EventDataModule.train_dataloader"><code class="docutils literal notranslate"><span class="pre">EventDataModule.train_dataloader()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.dataset_event.EventDataModule.val_dataloader"><code class="docutils literal notranslate"><span class="pre">EventDataModule.val_dataloader()</span></code></a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.dataset_event.EventDataset"><code class="docutils literal notranslate"><span class="pre">EventDataset</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.dataset_event.EventDataset.build_items"><code class="docutils literal notranslate"><span class="pre">EventDataset.build_items()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.dataset_event.EventDataset.locate_item"><code class="docutils literal notranslate"><span class="pre">EventDataset.locate_item()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.dataset_event.EventDataset.to_tensor"><code class="docutils literal notranslate"><span class="pre">EventDataset.to_tensor()</span></code></a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.dataset_event.EventKernel"><code class="docutils literal notranslate"><span class="pre">EventKernel</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.dataset_event.EventKernel.filter_out"><code class="docutils literal notranslate"><span class="pre">EventKernel.filter_out()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.dataset_event.EventKernel.get_event_item"><code class="docutils literal notranslate"><span class="pre">EventKernel.get_event_item()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.dataset_event.EventKernel.get_event_list"><code class="docutils literal notranslate"><span class="pre">EventKernel.get_event_list()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.dataset_event.EventKernel.get_event_size"><code class="docutils literal notranslate"><span class="pre">EventKernel.get_event_size()</span></code></a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.dataset_event.EventKernelManager"><code class="docutils literal notranslate"><span class="pre">EventKernelManager</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.dataset_event.EventKernelManager.get_event_item"><code class="docutils literal notranslate"><span class="pre">EventKernelManager.get_event_item()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.dataset_event.EventKernelManager.get_event_list"><code class="docutils literal notranslate"><span class="pre">EventKernelManager.get_event_list()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.dataset_event.EventKernelManager.get_event_size"><code class="docutils literal notranslate"><span class="pre">EventKernelManager.get_event_size()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#module-minestudio.data.minecraft.dataset_raw">Raw Dataset</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.dataset_raw.RawDataModule"><code class="docutils literal notranslate"><span class="pre">RawDataModule</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.dataset_raw.RawDataModule.setup"><code class="docutils literal notranslate"><span class="pre">RawDataModule.setup()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.dataset_raw.RawDataModule.train_dataloader"><code class="docutils literal notranslate"><span class="pre">RawDataModule.train_dataloader()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.dataset_raw.RawDataModule.val_dataloader"><code class="docutils literal notranslate"><span class="pre">RawDataModule.val_dataloader()</span></code></a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.dataset_raw.RawDataset"><code class="docutils literal notranslate"><span class="pre">RawDataset</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.dataset_raw.RawDataset.build_items"><code class="docutils literal notranslate"><span class="pre">RawDataset.build_items()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.dataset_raw.RawDataset.locate_item"><code class="docutils literal notranslate"><span class="pre">RawDataset.locate_item()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.dataset_raw.RawDataset.to_tensor"><code class="docutils literal notranslate"><span class="pre">RawDataset.to_tensor()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-minestudio.data.minecraft.callbacks.callback">Callbacks</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.callback.DrawFrameCallback"><code class="docutils literal notranslate"><span class="pre">DrawFrameCallback</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.callback.DrawFrameCallback.draw_frames"><code class="docutils literal notranslate"><span class="pre">DrawFrameCallback.draw_frames()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.callback.ModalConvertCallback"><code class="docutils literal notranslate"><span class="pre">ModalConvertCallback</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.callback.ModalConvertCallback.do_convert"><code class="docutils literal notranslate"><span class="pre">ModalConvertCallback.do_convert()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.callback.ModalConvertCallback.gen_frame_skip_flags"><code class="docutils literal notranslate"><span class="pre">ModalConvertCallback.gen_frame_skip_flags()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.callback.ModalConvertCallback.load_episodes"><code class="docutils literal notranslate"><span class="pre">ModalConvertCallback.load_episodes()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.callback.ModalKernelCallback"><code class="docutils literal notranslate"><span class="pre">ModalKernelCallback</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.callback.ModalKernelCallback.create_from_config"><code class="docutils literal notranslate"><span class="pre">ModalKernelCallback.create_from_config()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.callback.ModalKernelCallback.do_decode"><code class="docutils literal notranslate"><span class="pre">ModalKernelCallback.do_decode()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.callback.ModalKernelCallback.do_merge"><code class="docutils literal notranslate"><span class="pre">ModalKernelCallback.do_merge()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.callback.ModalKernelCallback.do_pad"><code class="docutils literal notranslate"><span class="pre">ModalKernelCallback.do_pad()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.callback.ModalKernelCallback.do_postprocess"><code class="docutils literal notranslate"><span class="pre">ModalKernelCallback.do_postprocess()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.callback.ModalKernelCallback.do_slice"><code class="docutils literal notranslate"><span class="pre">ModalKernelCallback.do_slice()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.callback.ModalKernelCallback.filter_dataset_paths"><code class="docutils literal notranslate"><span class="pre">ModalKernelCallback.filter_dataset_paths()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.callback.ModalKernelCallback.name"><code class="docutils literal notranslate"><span class="pre">ModalKernelCallback.name</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#module-minestudio.data.minecraft.callbacks.action">Modality:Action</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.action.ActionConvertCallback"><code class="docutils literal notranslate"><span class="pre">ActionConvertCallback</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.action.ActionConvertCallback.do_convert"><code class="docutils literal notranslate"><span class="pre">ActionConvertCallback.do_convert()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.action.ActionConvertCallback.gen_frame_skip_flags"><code class="docutils literal notranslate"><span class="pre">ActionConvertCallback.gen_frame_skip_flags()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.action.ActionConvertCallback.load_episodes"><code class="docutils literal notranslate"><span class="pre">ActionConvertCallback.load_episodes()</span></code></a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.action.ActionDrawFrameCallback"><code class="docutils literal notranslate"><span class="pre">ActionDrawFrameCallback</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.action.ActionDrawFrameCallback.draw_frames"><code class="docutils literal notranslate"><span class="pre">ActionDrawFrameCallback.draw_frames()</span></code></a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.action.ActionKernelCallback"><code class="docutils literal notranslate"><span class="pre">ActionKernelCallback</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.action.ActionKernelCallback.create_from_config"><code class="docutils literal notranslate"><span class="pre">ActionKernelCallback.create_from_config()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.action.ActionKernelCallback.do_decode"><code class="docutils literal notranslate"><span class="pre">ActionKernelCallback.do_decode()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.action.ActionKernelCallback.do_merge"><code class="docutils literal notranslate"><span class="pre">ActionKernelCallback.do_merge()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.action.ActionKernelCallback.do_pad"><code class="docutils literal notranslate"><span class="pre">ActionKernelCallback.do_pad()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.action.ActionKernelCallback.do_postprocess"><code class="docutils literal notranslate"><span class="pre">ActionKernelCallback.do_postprocess()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.action.ActionKernelCallback.do_slice"><code class="docutils literal notranslate"><span class="pre">ActionKernelCallback.do_slice()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.action.ActionKernelCallback.filter_dataset_paths"><code class="docutils literal notranslate"><span class="pre">ActionKernelCallback.filter_dataset_paths()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.action.ActionKernelCallback.name"><code class="docutils literal notranslate"><span class="pre">ActionKernelCallback.name</span></code></a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.action.VectorActionKernelCallback"><code class="docutils literal notranslate"><span class="pre">VectorActionKernelCallback</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.action.VectorActionKernelCallback.action_to_dict"><code class="docutils literal notranslate"><span class="pre">VectorActionKernelCallback.action_to_dict()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.action.VectorActionKernelCallback.action_to_vector"><code class="docutils literal notranslate"><span class="pre">VectorActionKernelCallback.action_to_vector()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.action.VectorActionKernelCallback.do_postprocess"><code class="docutils literal notranslate"><span class="pre">VectorActionKernelCallback.do_postprocess()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.action.VectorActionKernelCallback.vector_dim"><code class="docutils literal notranslate"><span class="pre">VectorActionKernelCallback.vector_dim</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.action.VectorActionKernelCallback.vector_to_action"><code class="docutils literal notranslate"><span class="pre">VectorActionKernelCallback.vector_to_action()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#module-minestudio.data.minecraft.callbacks.image">Modality:Image</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.image.ImageConvertCallback"><code class="docutils literal notranslate"><span class="pre">ImageConvertCallback</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.image.ImageConvertCallback.do_convert"><code class="docutils literal notranslate"><span class="pre">ImageConvertCallback.do_convert()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.image.ImageConvertCallback.load_episodes"><code class="docutils literal notranslate"><span class="pre">ImageConvertCallback.load_episodes()</span></code></a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.image.ImageKernelCallback"><code class="docutils literal notranslate"><span class="pre">ImageKernelCallback</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.image.ImageKernelCallback.create_from_config"><code class="docutils literal notranslate"><span class="pre">ImageKernelCallback.create_from_config()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.image.ImageKernelCallback.do_decode"><code class="docutils literal notranslate"><span class="pre">ImageKernelCallback.do_decode()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.image.ImageKernelCallback.do_merge"><code class="docutils literal notranslate"><span class="pre">ImageKernelCallback.do_merge()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.image.ImageKernelCallback.do_pad"><code class="docutils literal notranslate"><span class="pre">ImageKernelCallback.do_pad()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.image.ImageKernelCallback.do_postprocess"><code class="docutils literal notranslate"><span class="pre">ImageKernelCallback.do_postprocess()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.image.ImageKernelCallback.do_slice"><code class="docutils literal notranslate"><span class="pre">ImageKernelCallback.do_slice()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.image.ImageKernelCallback.filter_dataset_paths"><code class="docutils literal notranslate"><span class="pre">ImageKernelCallback.filter_dataset_paths()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.image.ImageKernelCallback.name"><code class="docutils literal notranslate"><span class="pre">ImageKernelCallback.name</span></code></a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.image.VideoAugmentation"><code class="docutils literal notranslate"><span class="pre">VideoAugmentation</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#module-minestudio.data.minecraft.callbacks.meta_info">Modality:Info</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.meta_info.MetaInfoConvertCallback"><code class="docutils literal notranslate"><span class="pre">MetaInfoConvertCallback</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.meta_info.MetaInfoConvertCallback.do_convert"><code class="docutils literal notranslate"><span class="pre">MetaInfoConvertCallback.do_convert()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.meta_info.MetaInfoConvertCallback.load_episodes"><code class="docutils literal notranslate"><span class="pre">MetaInfoConvertCallback.load_episodes()</span></code></a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.meta_info.MetaInfoDrawFrameCallback"><code class="docutils literal notranslate"><span class="pre">MetaInfoDrawFrameCallback</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.meta_info.MetaInfoDrawFrameCallback.draw_frames"><code class="docutils literal notranslate"><span class="pre">MetaInfoDrawFrameCallback.draw_frames()</span></code></a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.meta_info.MetaInfoKernelCallback"><code class="docutils literal notranslate"><span class="pre">MetaInfoKernelCallback</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.meta_info.MetaInfoKernelCallback.create_from_config"><code class="docutils literal notranslate"><span class="pre">MetaInfoKernelCallback.create_from_config()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.meta_info.MetaInfoKernelCallback.do_decode"><code class="docutils literal notranslate"><span class="pre">MetaInfoKernelCallback.do_decode()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.meta_info.MetaInfoKernelCallback.do_merge"><code class="docutils literal notranslate"><span class="pre">MetaInfoKernelCallback.do_merge()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.meta_info.MetaInfoKernelCallback.do_pad"><code class="docutils literal notranslate"><span class="pre">MetaInfoKernelCallback.do_pad()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.meta_info.MetaInfoKernelCallback.do_slice"><code class="docutils literal notranslate"><span class="pre">MetaInfoKernelCallback.do_slice()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.meta_info.MetaInfoKernelCallback.filter_dataset_paths"><code class="docutils literal notranslate"><span class="pre">MetaInfoKernelCallback.filter_dataset_paths()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.meta_info.MetaInfoKernelCallback.name"><code class="docutils literal notranslate"><span class="pre">MetaInfoKernelCallback.name</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#module-minestudio.data.minecraft.callbacks.segmentation">Modality:Segmentation</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.segmentation.SegmentationConvertCallback"><code class="docutils literal notranslate"><span class="pre">SegmentationConvertCallback</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.segmentation.SegmentationConvertCallback.do_convert"><code class="docutils literal notranslate"><span class="pre">SegmentationConvertCallback.do_convert()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.segmentation.SegmentationConvertCallback.load_episodes"><code class="docutils literal notranslate"><span class="pre">SegmentationConvertCallback.load_episodes()</span></code></a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.segmentation.SegmentationDrawFrameCallback"><code class="docutils literal notranslate"><span class="pre">SegmentationDrawFrameCallback</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.segmentation.SegmentationDrawFrameCallback.draw_frame"><code class="docutils literal notranslate"><span class="pre">SegmentationDrawFrameCallback.draw_frame()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.segmentation.SegmentationDrawFrameCallback.draw_frames"><code class="docutils literal notranslate"><span class="pre">SegmentationDrawFrameCallback.draw_frames()</span></code></a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.segmentation.SegmentationKernelCallback"><code class="docutils literal notranslate"><span class="pre">SegmentationKernelCallback</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.segmentation.SegmentationKernelCallback.create_from_config"><code class="docutils literal notranslate"><span class="pre">SegmentationKernelCallback.create_from_config()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.segmentation.SegmentationKernelCallback.do_decode"><code class="docutils literal notranslate"><span class="pre">SegmentationKernelCallback.do_decode()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.segmentation.SegmentationKernelCallback.do_merge"><code class="docutils literal notranslate"><span class="pre">SegmentationKernelCallback.do_merge()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.segmentation.SegmentationKernelCallback.do_pad"><code class="docutils literal notranslate"><span class="pre">SegmentationKernelCallback.do_pad()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.segmentation.SegmentationKernelCallback.do_slice"><code class="docutils literal notranslate"><span class="pre">SegmentationKernelCallback.do_slice()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.segmentation.SegmentationKernelCallback.filter_dataset_paths"><code class="docutils literal notranslate"><span class="pre">SegmentationKernelCallback.filter_dataset_paths()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.segmentation.SegmentationKernelCallback.name"><code class="docutils literal notranslate"><span class="pre">SegmentationKernelCallback.name</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.segmentation.SegmentationKernelCallback.rle_decode"><code class="docutils literal notranslate"><span class="pre">SegmentationKernelCallback.rle_decode()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.callbacks.segmentation.SegmentationKernelCallback.rle_encode"><code class="docutils literal notranslate"><span class="pre">SegmentationKernelCallback.rle_encode()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-minestudio.data.minecraft.tools.convertion">LMDB Convertion</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.tools.convertion.ConvertManager"><code class="docutils literal notranslate"><span class="pre">ConvertManager</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.tools.convertion.ConvertManager.dispatch"><code class="docutils literal notranslate"><span class="pre">ConvertManager.dispatch()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.tools.convertion.ConvertManager.prepare_tasks"><code class="docutils literal notranslate"><span class="pre">ConvertManager.prepare_tasks()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.tools.event_convertion.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-minestudio.data.minecraft.utils">Utils</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.utils.MineDistributedBatchSampler"><code class="docutils literal notranslate"><span class="pre">MineDistributedBatchSampler</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.utils.batchify"><code class="docutils literal notranslate"><span class="pre">batchify()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.utils.download_dataset_from_huggingface"><code class="docutils literal notranslate"><span class="pre">download_dataset_from_huggingface()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.utils.get_repo_total_size"><code class="docutils literal notranslate"><span class="pre">get_repo_total_size()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.utils.pull_datasets_from_remote"><code class="docutils literal notranslate"><span class="pre">pull_datasets_from_remote()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.utils.visualize_dataloader"><code class="docutils literal notranslate"><span class="pre">visualize_dataloader()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#minestudio.data.minecraft.utils.write_video"><code class="docutils literal notranslate"><span class="pre">write_video()</span></code></a></li>
</ul>
</li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/api/data/index.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2025, The CraftJarvis Team.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.1.3.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>